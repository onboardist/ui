!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t.Onboardist=t.Onboardist||{},t.Onboardist.UI={}))}(this,function(t){"use strict";function e(){}function n(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){for(var n in e)t[n]=1;return t}function i(t,e){return 0===e&&t(),function(){--e||t()}}function r(t){t()}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function l(t){t.parentNode.removeChild(t)}function u(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(){return document.createDocumentFragment()}function h(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function m(){return document.createComment("")}function g(t,e,n,o){t.addEventListener(e,n,o)}function v(t,e,n,o){t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){t.data=""+e}function _(t,e,n){t.style.setProperty(e,n)}function x(t,e,n){t.classList[n?"add":"remove"](e)}function S(){return Object.create(null)}function w(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function E(t,e){return t!=t?e==e:t!==e}function k(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function O(t){t._lock=!0,I(t._beforecreate),I(t._oncreate),I(t._aftercreate),t._lock=!1}function M(){return this._state}function C(t,e){t._handlers=S(),t._slots=S(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function L(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function I(t){for(;t&&t.length;)t.shift()()}var A={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:M,fire:k,on:L,set:function(t){this._set(n({},t)),this.root._lock||O(this.root)},_recompute:e,_set:function(t){var e=this._state,o={},i=!1;for(var r in t=n(this._staged,t),this._staged={},t)this._differs(t[r],e[r])&&(o[r]=i=!0);i&&(this._state=n(n({},e),t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:e}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:e})))},_stage:function(t){n(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:w};function N(t,e){var n;return{c:function(){n=f(e.icon)},m:function(t,e){s(t,n,e)},p:function(t,e){t.icon&&b(n,e.icon)},d:function(t){t&&l(n)}}}function T(t,n){var o,i,r;return{c:function(){var t,e;o=d("svg"),i=d("g"),r=d("use"),t="xlink:href",e="#right-arrow",r.setAttributeNS("http://www.w3.org/1999/xlink",t,e),y(r,"class","svelte-5ep7m8"),y(i,"transform","scale(0.065), translate(140, 170)"),y(o,"xmlns","http://www.w3.org/2000/svg"),y(o,"class","next-button svelte-5ep7m8")},m:function(t,e){s(t,o,e),a(o,i),a(i,r)},p:e,d:function(t){t&&l(o)}}}function P(t){var e,i=this;C(this,t),this.refs={},this._state=n({icon:"X"},t.data),this._intro=!!t.intro,document.getElementById("svelte-5ep7m8-style")||((e=h("style")).id="svelte-5ep7m8-style",e.textContent=".action-btn.svelte-5ep7m8{background:none;z-index:1002;border-radius:50%;border:3px solid #fff;height:56px;width:56px;position:fixed;top:0;right:0;color:#fff;margin:5vmin;font-size:36px;line-height:58px;text-align:center;cursor:pointer;box-shadow:0 2px 2px 0 rgba(255, 255, 255, 0.12), 0 1px 5px 0 rgba(255, 255, 255, 0.12), 0 3px 1px -2px rgba(255, 255, 255, 0.2);font-family:sans-serif}.next-button.svelte-5ep7m8 use.svelte-5ep7m8{fill:#fff}",a(document.head,e)),this._fragment=function(t,e){var n,o,i;function a(t){return"next"===t.type?T:N}var u=a(e),c=u(t,e);function p(e){t.fire("click",e)}return{c:function(){n=h("button"),c.c(),g(n,"click",p),n.className="action-btn svelte-5ep7m8",n.tabIndex="0",y(n,"aria-label",o="next"===e.type?"Next":"Close")},m:function(e,o){s(e,n,o),c.m(n,null),t.refs.el=n,i=!0},p:function(e,i){u===(u=a(i))&&c?c.p(e,i):(c.d(1),(c=u(t,i)).c(),c.m(n,null)),e.type&&o!==(o="next"===i.type?"Next":"Close")&&y(n,"aria-label",o)},i:function(t,e){i||this.m(t,e)},o:r,d:function(e){e&&l(n),c.d(),v(n,"click",p),t.refs.el===n&&(t.refs.el=null)}}}(this,this._state),this.root._oncreate.push(function(){(function(){this.refs.el.focus()}).call(i),i.fire("update",{changed:o({},i._state),current:i._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(P.prototype,A);var V=function(){var t,e,n,o,i,r,a,s,l,u,c,p,h,d="leader-line",f=1,m=2,g=3,v=4,y={top:f,right:m,bottom:g,left:v},b=1,_=2,x=3,S=4,w=5,E={straight:b,arc:_,fluid:x,magnet:S,grid:w},k="behind",O=d+"-defs",M='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',C={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},L={behind:k,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},I={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},A=[f,m,g,v],N="auto",T={x:"left",y:"top",width:"width",height:"height"},P=80,V=4,B=5,W=120,z=8,F=3.75,j=10,D=30,R=.5522847,G=.25*Math.PI,H=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,U="http://www.w3.org/2000/svg",q="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Y=!q&&!!document.uniqueID,Z="MozAppearance"in document.documentElement.style,X=!(q||Z||!window.chrome||!window.CSS),K=!q&&!Y&&!Z&&!X&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,Q=Y||q?.2:.1,$={path:x,lineColor:"coral",lineSize:4,plugSE:[k,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},J=(c={}.toString,p={}.hasOwnProperty.toString,h=p.call(Object),function(t){var e,n;return t&&"[object Object]"===c.call(t)&&(!(e=Object.getPrototypeOf(t))||(n=e.hasOwnProperty("constructor")&&e.constructor)&&"function"==typeof n&&p.call(n)===h)}),tt=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},et=function(){var t,e={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},n=1e3/60/2,o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,n)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)},r=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},a=[],s=0;function l(){var e=Date.now(),r=!1;t&&(i.call(window,t),t=null),a.forEach(function(t){var o,i,a;if(t.framesStart){if((o=e-t.framesStart)>=t.duration&&t.count&&t.loopsLeft<=1)return a=t.frames[t.lastFrame=t.reverse?0:t.frames.length-1],t.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(t.framesStart=null);if(o>t.duration){if(i=Math.floor(o/t.duration),t.count){if(i>=t.loopsLeft)return a=t.frames[t.lastFrame=t.reverse?0:t.frames.length-1],t.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(t.framesStart=null);t.loopsLeft-=i}t.framesStart+=t.duration*i,o=e-t.framesStart}t.reverse&&(o=t.duration-o),a=t.frames[t.lastFrame=Math.round(o/n)],!1!==t.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?r=!0:t.framesStart=null}}),r&&(t=o.call(window,l))}function u(t,e){t.framesStart=Date.now(),null!=e&&(t.framesStart-=t.duration*(t.reverse?1-e:e)),t.loopsLeft=t.count,t.lastFrame=null,l()}return{add:function(t,o,i,r,l,c,p){var h,d,f,m,g,v,y,b,_,x,S,w,E,k=++s;function O(e,n){return{value:t(n),timeRatio:e,outputRatio:n}}if("string"==typeof l&&(l=e[l]),t=t||function(){},i<n)d=[O(0,0),O(1,1)];else{if(f=n/i,d=[O(0,0)],0===l[0]&&0===l[1]&&1===l[2]&&1===l[3])for(g=f;g<=1;g+=f)d.push(O(g,g));else for(v=m=(g=f)/10;v<=1;v+=m)x=(_=(b=v)*b)*b,E=3*(S=1-b)*_,g<=(y={x:(w=S*S*3*b)*l[0]+E*l[2]+x,y:w*l[1]+E*l[3]+x}).x&&(d.push(O(y.x,y.y)),g+=f);d.push(O(1,1))}return h={animId:k,frameCallback:o,duration:i,count:r,frames:d,reverse:!!c},a.push(h),!1!==p&&u(h,p),k},remove:function(t){var e;a.some(function(n,o){return n.animId===t&&(e=o,!(n.framesStart=null))})&&a.splice(e,1)},start:function(t,e,n){a.some(function(o){return o.animId===t&&(o.reverse=!!e,u(o,n),!0)})},stop:function(t,e){var n;return a.some(function(o){return o.animId===t&&(e?null!=o.lastFrame&&(n=o.frames[o.lastFrame].timeRatio):(n=(Date.now()-o.framesStart)/o.duration,o.reverse&&(n=1-n),n<0?n=0:1<n&&(n=1)),!(o.framesStart=null))}),n},validTiming:function(t){return"string"==typeof t?e[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return r(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}}(),nt=function(t){t.SVGPathElement.prototype.getPathData&&t.SVGPathElement.prototype.setPathData||function(){var e={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},o=-1!==t.navigator.userAgent.indexOf("MSIE ");n.prototype={parseSegment:function(){var t=this._string[this._currentIndex],n=e[t]?e[t]:null;if(null===n){if(null===this._prevCommand)return null;if(null===(n=("+"===t||"-"===t||"."===t||"0"<=t&&t<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var o=null,i=(this._prevCommand=n).toUpperCase();return"H"===i||"V"===i?o=[this._parseNumber()]:"M"===i||"L"===i||"T"===i?o=[this._parseNumber(),this._parseNumber()]:"S"===i||"Q"===i?o=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===i?o=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===i?o=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===i&&(this._skipOptionalSpaces(),o=[]),null===o||0<=o.indexOf(null)?null:{type:n,values:o}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var t=this._string[this._currentIndex];return e[t]?e[t]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return"M"===t||"m"===t},_isCurrentSpace:function(){var t=this._string[this._currentIndex];return t<=" "&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var t=0,e=0,n=1,o=0,i=1,r=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==s)for(var l=this._currentIndex-1,u=1;s<=l;)e+=u*(this._string[l]-"0"),l-=1,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,o+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==a&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,r=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)t*=10,t+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=e+o;return c*=i,t&&(c*=Math.pow(10,r*t)),a===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var t=null,e=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===e)t=0;else{if("1"!==e)return null;t=1}return this._skipOptionalSpacesOrDelimiter(),t}};var i=function(t){if(!t||0===t.length)return[];var e=new n(t),o=[];if(e.initialCommandIsMoveTo())for(;e.hasMoreData();){var i=e.parseSegment();if(null===i)break;o.push(i)}return o},r=t.SVGPathElement.prototype.setAttribute,a=t.SVGPathElement.prototype.removeAttribute,s=t.Symbol?t.Symbol():"__cachedPathData",l=t.Symbol?t.Symbol():"__cachedNormalizedPathData",u=function(t,e,n,o,i,r,a,s,l,c){var p,h,d,f,m,g=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}},v=(p=a,Math.PI*p/180),y=[];if(c)h=c[0],d=c[1],f=c[2],m=c[3];else{var b=g(t,e,-v);t=b.x,e=b.y;var _=g(n,o,-v),x=(t-(n=_.x))/2,S=(e-(o=_.y))/2,w=x*x/(i*i)+S*S/(r*r);1<w&&(i*=w=Math.sqrt(w),r*=w);var E=i*i,k=r*r,O=E*k-E*S*S-k*x*x,M=E*S*S+k*x*x,C=(s===l?-1:1)*Math.sqrt(Math.abs(O/M));f=C*i*S/r+(t+n)/2,m=C*-r*x/i+(e+o)/2,h=Math.asin(parseFloat(((e-m)/r).toFixed(9))),d=Math.asin(parseFloat(((o-m)/r).toFixed(9))),t<f&&(h=Math.PI-h),n<f&&(d=Math.PI-d),h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),l&&d<h&&(h-=2*Math.PI),!l&&h<d&&(d-=2*Math.PI)}var L=d-h;if(Math.abs(L)>120*Math.PI/180){var I=d,A=n,N=o;d=l&&h<d?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,n=f+i*Math.cos(d),o=m+r*Math.sin(d),y=u(n,o,A,N,i,r,a,0,l,[d,I,f,m])}L=d-h;var T=Math.cos(h),P=Math.sin(h),V=Math.cos(d),B=Math.sin(d),W=Math.tan(L/4),z=4/3*i*W,F=4/3*r*W,j=[t,e],D=[t+z*P,e-F*T],R=[n+z*B,o-F*V],G=[n,o];if(D[0]=2*j[0]-D[0],D[1]=2*j[1]-D[1],c)return[D,R,G].concat(y);y=[D,R,G].concat(y).join().split(",");var H=[],U=[];return y.forEach(function(t,e){e%2?U.push(g(y[e-1],y[e],v).y):U.push(g(y[e],y[e+1],v).x),6===U.length&&(H.push(U),U=[])}),H},c=function(t){return t.map(function(t){return{type:t.type,values:Array.prototype.slice.call(t.values)}})},p=function(t){var e=[],n=null,o=null,i=null,r=null,a=null,s=null,l=null;return t.forEach(function(t){if("M"===t.type){var c=t.values[0],p=t.values[1];e.push({type:"M",values:[c,p]}),r=s=c,a=l=p}else if("C"===t.type){var h=t.values[0],d=t.values[1],f=t.values[2],m=t.values[3];c=t.values[4],p=t.values[5],e.push({type:"C",values:[h,d,f,m,c,p]}),o=f,i=m,r=c,a=p}else if("L"===t.type)c=t.values[0],p=t.values[1],e.push({type:"L",values:[c,p]}),r=c,a=p;else if("H"===t.type)c=t.values[0],e.push({type:"L",values:[c,a]}),r=c;else if("V"===t.type)p=t.values[0],e.push({type:"L",values:[r,p]}),a=p;else if("S"===t.type)f=t.values[0],m=t.values[1],c=t.values[2],p=t.values[3],"C"===n||"S"===n?(g=r+(r-o),v=a+(a-i)):(g=r,v=a),e.push({type:"C",values:[g,v,f,m,c,p]}),o=f,i=m,r=c,a=p;else if("T"===t.type){c=t.values[0],p=t.values[1],"Q"===n||"T"===n?(h=r+(r-o),d=a+(a-i)):(h=r,d=a);var g=r+2*(h-r)/3,v=a+2*(d-a)/3,y=c+2*(h-c)/3,b=p+2*(d-p)/3;e.push({type:"C",values:[g,v,y,b,c,p]}),o=h,i=d,r=c,a=p}else if("Q"===t.type)h=t.values[0],d=t.values[1],c=t.values[2],p=t.values[3],g=r+2*(h-r)/3,v=a+2*(d-a)/3,y=c+2*(h-c)/3,b=p+2*(d-p)/3,e.push({type:"C",values:[g,v,y,b,c,p]}),o=h,i=d,r=c,a=p;else if("A"===t.type){var _=t.values[0],x=t.values[1],S=t.values[2],w=t.values[3],E=t.values[4];c=t.values[5],p=t.values[6],0===_||0===x?(e.push({type:"C",values:[r,a,c,p,c,p]}),r=c,a=p):r===c&&a===p||u(r,a,c,p,_,x,S,w,E).forEach(function(t){e.push({type:"C",values:t}),r=c,a=p})}else"Z"===t.type&&(e.push(t),r=s,a=l);n=t.type}),e};t.SVGPathElement.prototype.setAttribute=function(t,e){"d"===t&&(this[s]=null,this[l]=null),r.call(this,t,e)},t.SVGPathElement.prototype.removeAttribute=function(t,e){"d"===t&&(this[s]=null,this[l]=null),a.call(this,t)},t.SVGPathElement.prototype.getPathData=function(t){if(t&&t.normalize){if(this[l])return c(this[l]);this[s]?h=c(this[s]):(h=i(this.getAttribute("d")||""),this[s]=c(h));var e=p((n=[],u=a=r=o=null,h.forEach(function(t){var e=t.type;if("M"===e){var i=t.values[0],s=t.values[1];n.push({type:"M",values:[i,s]}),o=a=i,r=u=s}else if("m"===e)i=o+t.values[0],s=r+t.values[1],n.push({type:"M",values:[i,s]}),o=a=i,r=u=s;else if("L"===e)i=t.values[0],s=t.values[1],n.push({type:"L",values:[i,s]}),o=i,r=s;else if("l"===e)i=o+t.values[0],s=r+t.values[1],n.push({type:"L",values:[i,s]}),o=i,r=s;else if("C"===e){var l=t.values[0],c=t.values[1],p=t.values[2],h=t.values[3];i=t.values[4],s=t.values[5],n.push({type:"C",values:[l,c,p,h,i,s]}),o=i,r=s}else"c"===e?(l=o+t.values[0],c=r+t.values[1],p=o+t.values[2],h=r+t.values[3],i=o+t.values[4],s=r+t.values[5],n.push({type:"C",values:[l,c,p,h,i,s]}),o=i,r=s):"Q"===e?(l=t.values[0],c=t.values[1],i=t.values[2],s=t.values[3],n.push({type:"Q",values:[l,c,i,s]}),o=i,r=s):"q"===e?(l=o+t.values[0],c=r+t.values[1],i=o+t.values[2],s=r+t.values[3],n.push({type:"Q",values:[l,c,i,s]}),o=i,r=s):"A"===e?(i=t.values[5],s=t.values[6],n.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],i,s]}),o=i,r=s):"a"===e?(i=o+t.values[5],s=r+t.values[6],n.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],i,s]}),o=i,r=s):"H"===e?(i=t.values[0],n.push({type:"H",values:[i]}),o=i):"h"===e?(i=o+t.values[0],n.push({type:"H",values:[i]}),o=i):"V"===e?(s=t.values[0],n.push({type:"V",values:[s]}),r=s):"v"===e?(s=r+t.values[0],n.push({type:"V",values:[s]}),r=s):"S"===e?(p=t.values[0],h=t.values[1],i=t.values[2],s=t.values[3],n.push({type:"S",values:[p,h,i,s]}),o=i,r=s):"s"===e?(p=o+t.values[0],h=r+t.values[1],i=o+t.values[2],s=r+t.values[3],n.push({type:"S",values:[p,h,i,s]}),o=i,r=s):"T"===e?(i=t.values[0],s=t.values[1],n.push({type:"T",values:[i,s]}),o=i,r=s):"t"===e?(i=o+t.values[0],s=r+t.values[1],n.push({type:"T",values:[i,s]}),o=i,r=s):"Z"!==e&&"z"!==e||(n.push({type:"Z",values:[]}),o=a,r=u)}),n));return this[l]=c(e),e}if(this[s])return c(this[s]);var n,o,r,a,u,h=i(this.getAttribute("d")||"");return this[s]=c(h),h},t.SVGPathElement.prototype.setPathData=function(t){if(0===t.length)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var e="",n=0,i=t.length;n<i;n+=1){var r=t[n];0<n&&(e+=" "),e+=r.type,r.values&&0<r.values.length&&(e+=" "+r.values.join(" "))}this.setAttribute("d",e)}},t.SVGRectElement.prototype.getPathData=function(t){var e=this.x.baseVal.value,n=this.y.baseVal.value,o=this.width.baseVal.value,i=this.height.baseVal.value,r=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,a=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;o/2<r&&(r=o/2),i/2<a&&(a=i/2);var s=[{type:"M",values:[e+r,n]},{type:"H",values:[e+o-r]},{type:"A",values:[r,a,0,0,1,e+o,n+a]},{type:"V",values:[n+i-a]},{type:"A",values:[r,a,0,0,1,e+o-r,n+i]},{type:"H",values:[e+r]},{type:"A",values:[r,a,0,0,1,e,n+i-a]},{type:"V",values:[n+a]},{type:"A",values:[r,a,0,0,1,e+r,n]},{type:"Z",values:[]}];return s=s.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1]}),t&&!0===t.normalize&&(s=p(s)),s},t.SVGCircleElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,n=this.cy.baseVal.value,o=this.r.baseVal.value,i=[{type:"M",values:[e+o,n]},{type:"A",values:[o,o,0,0,1,e,n+o]},{type:"A",values:[o,o,0,0,1,e-o,n]},{type:"A",values:[o,o,0,0,1,e,n-o]},{type:"A",values:[o,o,0,0,1,e+o,n]},{type:"Z",values:[]}];return t&&!0===t.normalize&&(i=p(i)),i},t.SVGEllipseElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,n=this.cy.baseVal.value,o=this.rx.baseVal.value,i=this.ry.baseVal.value,r=[{type:"M",values:[e+o,n]},{type:"A",values:[o,i,0,0,1,e,n+i]},{type:"A",values:[o,i,0,0,1,e-o,n]},{type:"A",values:[o,i,0,0,1,e,n-i]},{type:"A",values:[o,i,0,0,1,e+o,n]},{type:"Z",values:[]}];return t&&!0===t.normalize&&(r=p(r)),r},t.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},t.SVGPolylineElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var n=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[n.x,n.y]})}return t},t.SVGPolygonElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var n=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[n.x,n.y]})}return t.push({type:"Z",values:[]}),t}}()},ot=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n.r(e);var o=500,i=[],r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)},s=void 0,l=Date.now();function u(){var t=void 0,e=void 0;s&&(a.call(window,s),s=null),i.forEach(function(e){e.event&&(e.listener(e.event),e.event=null,t=!0)}),t?(l=Date.now(),e=!0):Date.now()-l<o&&(e=!0),e&&(s=r.call(window,u))}function c(t){var e=-1;return i.some(function(n,o){return n.listener===t&&(e=o,!0)}),e}var p={add:function(t){var e=void 0;return-1===c(t)?(i.push(e={listener:t}),function(t){e.event=t,s||u()}):null},remove:function(t){var e;-1<(e=c(t))&&(i.splice(e,1),!i.length&&s&&(a.call(window,s),s=null))}};e.default=p}]).default,it={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:k},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:k},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:k},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},rt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},at="fade",st=[],lt={},ut=0,ct={},pt=0;function ht(t,e){var n,o;return typeof t!=typeof e||(n=J(t)?"obj":Array.isArray(t)?"array":"")!=(J(e)?"obj":Array.isArray(e)?"array":"")||("obj"===n?ht(o=Object.keys(t).sort(),Object.keys(e).sort())||o.some(function(n){return ht(t[n],e[n])}):"array"===n?t.length!==e.length||t.some(function(t,n){return ht(t,e[n])}):t!==e)}function dt(t){return t?J(t)?Object.keys(t).reduce(function(e,n){return e[n]=dt(t[n]),e},{}):Array.isArray(t)?t.map(dt):t:t}function ft(t){var e,n,o,i=1,r=t=(t+"").trim();function a(t){var e=1,n=H.exec(t);return n&&(e=parseFloat(n[1]),n[2]?e=0<=e&&e<=100?e/100:1:(e<0||1<e)&&(e=1)),e}return(e=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(t))?(n=e[1].toLowerCase(),o=e[2].trim().split(/\s*,\s*/),"rgba"===n&&4===o.length?(i=a(o[3]),r="rgb("+o.slice(0,3).join(", ")+")"):"hsla"===n&&4===o.length?(i=a(o[3]),r="hsl("+o.slice(0,3).join(", ")+")"):"hwb"===n&&4===o.length?(i=a(o[3]),r="hwb("+o.slice(0,3).join(", ")+")"):"gray"===n&&2===o.length?(i=a(o[1]),r="gray("+o[0]+")"):"device-cmyk"===n&&5<=o.length&&(i=a(o[4]),r="device-cmyk("+o.slice(0,4).join(", ")+")")):(e=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(t))?e[1]?(i=parseInt(e[2],16)/255,r="#"+e[1]):(i=parseInt(e[4]+e[4],16)/255,r="#"+e[3]):"transparent"===t.toLocaleLowerCase()&&(i=0),[i,r]}function mt(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE||"function"!=typeof t.getBoundingClientRect)}function gt(t,e){var n,o,i,r,a={};if(!(i=t.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(o in n=t.getBoundingClientRect())a[o]=n[o];if(!e){if(!(r=i.defaultView))return console.error("Cannot get window that contains the element."),null;a.left+=r.pageXOffset,a.right+=r.pageXOffset,a.top+=r.pageYOffset,a.bottom+=r.pageYOffset}return a}function vt(t,e){var n,o,i=[],r=t;for(e=e||window;;){if(!(n=r.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(o=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(o===e)break;if(!(r=o.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(r)}return i}function yt(t,e){var n,o,i=0,r=0;return(o=vt(t,e=e||window))?o.length?(o.forEach(function(t,e){var n,o,a=gt(t,0<e);i+=a.left,r+=a.top,o=(n=t).ownerDocument.defaultView.getComputedStyle(n,""),a={left:n.clientLeft+parseFloat(o.paddingLeft),top:n.clientTop+parseFloat(o.paddingTop)},i+=a.left,r+=a.top}),(n=gt(t,!0)).left+=i,n.right+=i,n.top+=r,n.bottom+=r,n):gt(t):null}function bt(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}function _t(t,e,n){var o=e.x-t.x,i=e.y-t.y;return{x:t.x+o*n,y:t.y+i*n,angle:Math.atan2(i,o)/(Math.PI/180)}}function xt(t,e,n){var o=Math.atan2(t.y-e.y,e.x-t.x);return{x:e.x+Math.cos(o)*n,y:e.y+Math.sin(o)*n*-1}}function St(t,e,n,o,i){var r=i*i,a=r*i,s=1-i,l=s*s,u=l*s,c=u*t.x+3*l*i*e.x+3*s*r*n.x+a*o.x,p=u*t.y+3*l*i*e.y+3*s*r*n.y+a*o.y,h=t.x+2*i*(e.x-t.x)+r*(n.x-2*e.x+t.x),d=t.y+2*i*(e.y-t.y)+r*(n.y-2*e.y+t.y),f=e.x+2*i*(n.x-e.x)+r*(o.x-2*n.x+e.x),m=e.y+2*i*(n.y-e.y)+r*(o.y-2*n.y+e.y),g=s*t.x+i*e.x,v=s*t.y+i*e.y,y=s*n.x+i*o.x,b=s*n.y+i*o.y,_=90-180*Math.atan2(h-f,d-m)/Math.PI;return{x:c,y:p,fromP2:{x:h,y:d},toP1:{x:f,y:m},fromP1:{x:g,y:v},toP2:{x:y,y:b},angle:_+=180<_?-180:180}}function wt(t,e,n,o,i){function r(t,e,n,o,i){return t*(t*(-3*e+9*n-9*o+3*i)+6*e-12*n+6*o)-3*e+3*n}var a,s,l,u,c,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0;return a=(i=null==i||1<i?1:i<0?0:i)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(i,d){l=r(s=a*i+a,t.x,e.x,n.x,o.x),u=r(s,t.y,e.y,n.y,o.y),c=l*l+u*u,h+=p[d]*Math.sqrt(c)}),a*h}function Et(t,e,n,o,i){for(var r,a=.5,s=1-a;r=wt(t,e,n,o,s),!(Math.abs(r-i)<=.01);)s+=(r<i?1:-1)*(a/=2);return s}function kt(t,e){var n;return t.forEach(function(t){var o=e?t.map(function(t){var n={x:t.x,y:t.y};return e(n),n}):t;n||(n=[{type:"M",values:[o[0].x,o[0].y]}]),n.push(o.length?2===o.length?{type:"L",values:[o[1].x,o[1].y]}:{type:"C",values:[o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y]}:{type:"Z",values:[]})}),n}function Ot(t){var e=[],n=0;return t.forEach(function(t){var o=(2===t.length?bt:wt).apply(null,t);e.push(o),n+=o}),{segsLen:e,lenAll:n}}function Mt(t,e){return null==t||null==e||t.length!==e.length||t.some(function(t,n){var o=e[n];return t.type!==o.type||t.values.some(function(t,e){return t!==o.values[e]})})}function Ct(t,e,n){t.events[e]?t.events[e].indexOf(n)<0&&t.events[e].push(n):t.events[e]=[n]}function Lt(t,e,n){var o;t.events[e]&&-1<(o=t.events[e].indexOf(n))&&t.events[e].splice(o,1)}function It(t){a&&clearTimeout(a),st.push(t),a=setTimeout(function(){st.forEach(function(t){t()}),st=[]},0)}function At(t,e){t.reflowTargets.indexOf(e)<0&&t.reflowTargets.push(e)}function Nt(t){t.reflowTargets.forEach(function(t){var e;e=t,setTimeout(function(){var t=e.parentNode,n=e.nextSibling;t.insertBefore(t.removeChild(e),n)},0)}),t.reflowTargets=[]}function Tt(t,e,n,o,i,r,a){var l,u,c;"auto-start-reverse"===n?("boolean"!=typeof s&&(e.setAttribute("orient","auto-start-reverse"),s=e.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),s?e.setAttribute("orient",n):((l=i.createSVGTransform()).setRotate(180,0,0),r.transform.baseVal.appendItem(l),e.setAttribute("orient","auto"),c=!0)):(e.setAttribute("orient",n),!1===s&&r.transform.baseVal.clear()),u=e.viewBox.baseVal,c?(u.x=-o.right,u.y=-o.bottom):(u.x=o.left,u.y=o.top),u.width=o.width,u.height=o.height,Y&&At(t,a)}function Pt(t,e){return{prop:t?"markerEnd":"markerStart",orient:e?e.noRotate?"0":t?"auto":"auto-start-reverse":null}}function Vt(t,e){Object.keys(e).forEach(function(n){var o=e[n];t[n]=null!=o.iniValue?o.hasSE?[o.iniValue,o.iniValue]:o.iniValue:o.hasSE?o.hasProps?[{},{}]:[]:o.hasProps?{}:null})}function Bt(t,e,n,o,i){return o!==e[n]&&(e[n]=o,i&&i.forEach(function(e){e(t,o,n)}),!0)}function Wt(t){function e(t,e){return t+parseFloat(e)}var n=t.document,o=t.getComputedStyle(n.documentElement,""),i=t.getComputedStyle(n.body,""),r={x:0,y:0};return"static"!==i.position?(r.x-=[o.marginLeft,o.borderLeftWidth,o.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(e,0),r.y-=[o.marginTop,o.borderTopWidth,o.paddingTop,i.marginTop,i.borderTopWidth].reduce(e,0)):"static"!==o.position&&(r.x-=[o.marginLeft,o.borderLeftWidth].reduce(e,0),r.y-=[o.marginTop,o.borderTopWidth].reduce(e,0)),r}function zt(t){var e,n=t.document;n.getElementById(O)||(e=(new t.DOMParser).parseFromString(M,"image/svg+xml"),n.body.appendChild(e.documentElement),nt(t))}function Ft(t){var e,n,o,i,r,a,s,l,u,c,p,h,d,y,E,k,O,M,C,L=t.options,I=t.curStats,N=t.aplStats,T=I.position_socketXYSE,H=!1;function U(t,e){var n=e===f?{x:t.left+t.width/2,y:t.top}:e===m?{x:t.right,y:t.top+t.height/2}:e===g?{x:t.left+t.width/2,y:t.bottom}:{x:t.left,y:t.top+t.height/2};return n.socketId=e,n}function q(t){return{x:t.x,y:t.y}}if(I.position_path=L.path,I.position_lineStrokeWidth=I.line_strokeWidth,I.position_socketGravitySE=e=dt(L.socketGravitySE),n=[0,1].map(function(e){var n,o,i,r=L.anchorSE[e],a=t.optionIsAttach.anchorSE[e],s=!1!==a?ct[r._id]:null,l=!1!==a&&s.conf.getStrokeWidth?s.conf.getStrokeWidth(s,t):0,u=!1!==a&&s.conf.getBBoxNest?s.conf.getBBoxNest(s,t,l):yt(r,t.baseWindow);return I.capsMaskAnchor_pathDataSE[e]=!1!==a&&s.conf.getPathData?s.conf.getPathData(s,t,l):(o=null!=(n=u).right?n.right:n.left+n.width,i=null!=n.bottom?n.bottom:n.top+n.height,[{type:"M",values:[n.left,n.top]},{type:"L",values:[o,n.top]},{type:"L",values:[o,i]},{type:"L",values:[n.left,i]},{type:"Z",values:[]}]),I.capsMaskAnchor_strokeWidthSE[e]=l,u}),s=-1,L.socketSE[0]&&L.socketSE[1]?(T[0]=U(n[0],L.socketSE[0]),T[1]=U(n[1],L.socketSE[1])):(L.socketSE[0]||L.socketSE[1]?(L.socketSE[0]?(r=0,a=1):(r=1,a=0),T[r]=U(n[r],L.socketSE[r]),(i=A.map(function(t){return U(n[a],t)})).forEach(function(t){var e=bt(t,T[r]);(e<s||-1===s)&&(T[a]=t,s=e)})):(i=A.map(function(t){return U(n[1],t)}),A.map(function(t){return U(n[0],t)}).forEach(function(t){i.forEach(function(e){var n=bt(t,e);(n<s||-1===s)&&(T[0]=t,T[1]=e,s=n)})})),[0,1].forEach(function(t){var e,o;L.socketSE[t]||(n[t].width||n[t].height?n[t].width||T[t].socketId!==v&&T[t].socketId!==m?n[t].height||T[t].socketId!==f&&T[t].socketId!==g||(T[t].socketId=0<=T[t?0:1].y-n[t].top?g:f):T[t].socketId=0<=T[t?0:1].x-n[t].left?m:v:(e=T[t?0:1].x-n[t].left,o=T[t?0:1].y-n[t].top,T[t].socketId=Math.abs(e)>=Math.abs(o)?0<=e?m:v:0<=o?g:f))})),I.position_path!==N.position_path||I.position_lineStrokeWidth!==N.position_lineStrokeWidth||[0,1].some(function(t){return I.position_plugOverheadSE[t]!==N.position_plugOverheadSE[t]||(r=T[t],a=N.position_socketXYSE[t],r.x!==a.x||r.y!==a.y||r.socketId!==a.socketId)||(n=e[t],o=N.position_socketGravitySE[t],(i=null==n?"auto":Array.isArray(n)?"array":"number")!=(null==o?"auto":Array.isArray(o)?"array":"number")||("array"===i?n[0]!==o[0]||n[1]!==o[1]:n!==o));var n,o,i,r,a})){switch(t.pathList.baseVal=o=[],t.pathList.animVal=null,I.position_path){case b:o.push([q(T[0]),q(T[1])]);break;case _:h="number"==typeof e[0]&&0<e[0]||"number"==typeof e[1]&&0<e[1],d=G*(h?-1:1),E=-(y=Math.atan2(T[1].y-T[0].y,T[1].x-T[0].x))+d,k=Math.PI-y-d,O=bt(T[0],T[1])/Math.sqrt(2)*R,M={x:T[0].x+Math.cos(E)*O,y:T[0].y+Math.sin(E)*O*-1},C={x:T[1].x+Math.cos(k)*O,y:T[1].y+Math.sin(k)*O*-1},o.push([q(T[0]),M,C,q(T[1])]);break;case x:case S:u=[e[0],I.position_path===S?0:e[1]],c=[],p=[],T.forEach(function(t,e){var n,o,i,r,a,s=u[e];Array.isArray(s)?n={x:s[0],y:s[1]}:"number"==typeof s?n=t.socketId===f?{x:0,y:-s}:t.socketId===m?{x:s,y:0}:t.socketId===g?{x:0,y:s}:{x:-s,y:0}:(o=T[e?0:1],r=0<(i=I.position_plugOverheadSE[e])?W+(z<i?(i-z)*F:0):P+(I.position_lineStrokeWidth>V?(I.position_lineStrokeWidth-V)*B:0),t.socketId===f?((a=(t.y-o.y)/2)<r&&(a=r),n={x:0,y:-a}):t.socketId===m?((a=(o.x-t.x)/2)<r&&(a=r),n={x:a,y:0}):t.socketId===g?((a=(o.y-t.y)/2)<r&&(a=r),n={x:0,y:a}):((a=(t.x-o.x)/2)<r&&(a=r),n={x:-a,y:0})),c[e]=t.x+n.x,p[e]=t.y+n.y}),o.push([q(T[0]),{x:c[0],y:p[0]},{x:c[1],y:p[1]},q(T[1])]);break;case w:!function(){var t,n=1,i=2,r=3,a=4,s=[[],[]],l=[];function u(t){return t===n?r:t===i?a:t===r?n:i}function c(t){return t===i||t===a?"x":"y"}function p(t,e,o){var a={x:t.x,y:t.y};if(o){if(o===u(t.dirId))throw new Error("Invalid dirId: "+o);a.dirId=o}else a.dirId=t.dirId;return a.dirId===n?a.y-=e:a.dirId===i?a.x+=e:a.dirId===r?a.y+=e:a.x-=e,a}function h(t,e){return e.dirId===n?t.y<=e.y:e.dirId===i?t.x>=e.x:e.dirId===r?t.y>=e.y:t.x<=e.x}function d(t,e){return e.dirId===n||e.dirId===r?t.x===e.x:t.y===e.y}function f(t){return t[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function m(t,e,n){return Math.abs(e[n]-t[n])}function g(t,e,o){return"x"===o?t.x<e.x?i:a:t.y<e.y?r:n}function v(){var t,e,n,o,a=[h(l[1],l[0]),h(l[0],l[1])],u=[c(l[0].dirId),c(l[1].dirId)];if(u[0]===u[1]){if(a[0]&&a[1])return d(l[1],l[0])||(l[0][u[0]]===l[1][u[1]]?(s[0].push(l[0]),s[1].push(l[1])):(t=l[0][u[0]]+(l[1][u[1]]-l[0][u[0]])/2,s[0].push(p(l[0],Math.abs(t-l[0][u[0]]))),s[1].push(p(l[1],Math.abs(t-l[1][u[1]]))))),!1;a[0]!==a[1]?(e=f(a),(n=m(l[e.notContain],l[e.contain],u[e.notContain]))<D&&(l[e.notContain]=p(l[e.notContain],D-n)),s[e.notContain].push(l[e.notContain]),l[e.notContain]=p(l[e.notContain],D,d(l[e.contain],l[e.notContain])?"x"===u[e.notContain]?r:i:g(l[e.notContain],l[e.contain],"x"===u[e.notContain]?"y":"x"))):(n=m(l[0],l[1],"x"===u[0]?"y":"x"),s.forEach(function(t,e){var o=0===e?1:0;t.push(l[e]),l[e]=p(l[e],D,2*D<=n?g(l[e],l[o],"x"===u[e]?"y":"x"):"x"===u[e]?r:i)}))}else{if(a[0]&&a[1])return d(l[1],l[0])?s[1].push(l[1]):d(l[0],l[1])?s[0].push(l[0]):s[0].push("x"===u[0]?{x:l[1].x,y:l[0].y}:{x:l[0].x,y:l[1].y}),!1;a[0]!==a[1]?(e=f(a),s[e.notContain].push(l[e.notContain]),l[e.notContain]=p(l[e.notContain],D,m(l[e.notContain],l[e.contain],u[e.contain])>=D?g(l[e.notContain],l[e.contain],u[e.contain]):l[e.contain].dirId)):(o=[{x:l[0].x,y:l[0].y},{x:l[1].x,y:l[1].y}],s.forEach(function(t,e){var n=0===e?1:0,i=m(o[e],o[n],u[e]);i<D&&(l[e]=p(l[e],D-i)),t.push(l[e]),l[e]=p(l[e],D,g(l[e],l[n],u[n]))}))}return!0}for(T.forEach(function(t,o){var c,h=q(t),d=e[o];c=Array.isArray(d)?d[0]<0?[a,-d[0]]:0<d[0]?[i,d[0]]:d[1]<0?[n,-d[1]]:0<d[1]?[r,d[1]]:[t.socketId,0]:"number"!=typeof d?[t.socketId,D]:0<=d?[t.socketId,d]:[u(t.socketId),-d],h.dirId=c[0],d=c[1],s[o].push(h),l[o]=p(h,d)});v(););s[1].reverse(),s[0].concat(s[1]).forEach(function(e,n){var i={x:e.x,y:e.y};0<n&&o.push([t,i]),t=i})}()}l=[],I.position_plugOverheadSE.forEach(function(t,e){var i,r,a,s,u,c,p,h,d,g,y,b=!e;0<t?2===(i=o[r=b?0:o.length-1]).length?(l[r]=l[r]||bt.apply(null,i),l[r]>j&&(l[r]-t<j&&(t=l[r]-j),a=_t(i[0],i[1],(b?t:l[r]-t)/l[r]),o[r]=b?[a,i[1]]:[i[0],a],l[r]-=t)):(l[r]=l[r]||wt.apply(null,i),l[r]>j&&(l[r]-t<j&&(t=l[r]-j),a=St(i[0],i[1],i[2],i[3],Et(i[0],i[1],i[2],i[3],b?t:l[r]-t)),b?(s=i[0],u=a.toP1):(s=i[3],u=a.fromP2),c=Math.atan2(s.y-a.y,a.x-s.x),p=bt(a,u),a.x=s.x+Math.cos(c)*t,a.y=s.y+Math.sin(c)*t*-1,u.x=a.x+Math.cos(c)*p,u.y=a.y+Math.sin(c)*p*-1,o[r]=b?[a,a.toP1,a.toP2,i[3]]:[i[0],a.fromP1,a.fromP2,a],l[r]=null)):t<0&&(i=o[r=b?0:o.length-1],h=T[e].socketId,d=h===v||h===m?"x":"y",t<(y=-n[e]["x"===d?"width":"height"])&&(t=y),g=t*(h===v||h===f?-1:1),2===i.length?i[b?0:i.length-1][d]+=g:(b?[0,1]:[i.length-2,i.length-1]).forEach(function(t){i[t][d]+=g}),l[r]=null)}),N.position_socketXYSE=dt(T),N.position_plugOverheadSE=dt(I.position_plugOverheadSE),N.position_path=I.position_path,N.position_lineStrokeWidth=I.position_lineStrokeWidth,N.position_socketGravitySE=dt(e),H=!0,t.events.apl_position&&t.events.apl_position.forEach(function(e){e(t,o)})}return H}function jt(t,e){e!==t.isShown&&(!!e!=!!t.isShown&&(t.svg.style.visibility=e?"":"hidden"),t.isShown=e,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(n){n(t,e)}))}function Dt(e,n){var o,i,r,a,s,l,u,c,p,h,d,f,m,g,v,y,b,_,x,S,w,E,O,M,L,A,N,P,V,B,W,z,F,j,D,R,G,H,U,q,J,tt,et,nt,ot,it,rt,at,st,lt,ut,ct,pt={};n.line&&(pt.line=(i=(o=e).options,r=o.curStats,a=o.events,s=!1,s=Bt(o,r,"line_color",i.lineColor,a.cur_line_color)||s,s=Bt(o,r,"line_colorTra",ft(r.line_color)[0]<1)||s,s=Bt(o,r,"line_strokeWidth",i.lineSize,a.cur_line_strokeWidth)||s)),(n.plug||pt.line)&&(pt.plug=(u=(l=e).options,c=l.curStats,p=l.events,h=!1,[0,1].forEach(function(t){var e,n,o,i,r,a,s,d,f=u.plugSE[t];h=Bt(l,c.plug_enabledSE,t,f!==k)||h,h=Bt(l,c.plug_plugSE,t,f)||h,h=Bt(l,c.plug_colorSE,t,d=u.plugColorSE[t]||c.line_color,p.cur_plug_colorSE)||h,h=Bt(l,c.plug_colorTraSE,t,ft(d)[0]<1)||h,f!==k&&(i=n=(e=C[I[f]]).widthR*u.plugSizeSE[t],r=o=e.heightR*u.plugSizeSE[t],K&&(i*=c.line_strokeWidth,r*=c.line_strokeWidth),h=Bt(l,c.plug_markerWidthSE,t,i)||h,h=Bt(l,c.plug_markerHeightSE,t,r)||h,c.capsMaskMarker_markerWidthSE[t]=n,c.capsMaskMarker_markerHeightSE[t]=o),c.plugOutline_plugSE[t]=c.capsMaskMarker_plugSE[t]=f,c.plug_enabledSE[t]?(d=c.line_strokeWidth/$.lineSize*u.plugSizeSE[t],c.position_plugOverheadSE[t]=e.overhead*d,c.viewBox_plugBCircleSE[t]=e.bCircle*d,a=e.sideLen*d,s=e.backLen*d):(c.position_plugOverheadSE[t]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[t]=a=s=0),Bt(l,c.attach_plugSideLenSE,t,a,p.cur_attach_plugSideLenSE),Bt(l,c.attach_plugBackLenSE,t,s,p.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[t]=!c.plug_enabledSE[t]}),h=Bt(l,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||h)),(n.lineOutline||pt.line)&&(pt.lineOutline=(m=(d=e).options,v=!1,v=Bt(d,g=d.curStats,"lineOutline_enabled",m.lineOutlineEnabled)||v,v=Bt(d,g,"lineOutline_color",m.lineOutlineColor)||v,v=Bt(d,g,"lineOutline_colorTra",ft(g.lineOutline_color)[0]<1)||v,f=g.line_strokeWidth*m.lineOutlineSize,v=Bt(d,g,"lineOutline_strokeWidth",g.line_strokeWidth-2*f)||v,v=Bt(d,g,"lineOutline_inStrokeWidth",g.lineOutline_colorTra?g.lineOutline_strokeWidth+2*Q:g.line_strokeWidth-f)||v)),(n.plugOutline||pt.line||pt.plug||pt.lineOutline)&&(pt.plugOutline=(b=(y=e).options,_=y.curStats,x=!1,[0,1].forEach(function(t){var e,n=_.plugOutline_plugSE[t],o=n!==k?C[I[n]]:null;x=Bt(y,_.plugOutline_enabledSE,t,b.plugOutlineEnabledSE[t]&&_.plug_enabled&&_.plug_enabledSE[t]&&!!o&&!!o.outlineBase)||x,x=Bt(y,_.plugOutline_colorSE,t,e=b.plugOutlineColorSE[t]||_.lineOutline_color)||x,x=Bt(y,_.plugOutline_colorTraSE,t,ft(e)[0]<1)||x,o&&o.outlineBase&&((e=b.plugOutlineSizeSE[t])>o.outlineMax&&(e=o.outlineMax),e*=2*o.outlineBase,x=Bt(y,_.plugOutline_strokeWidthSE,t,e)||x,x=Bt(y,_.plugOutline_inStrokeWidthSE,t,_.plugOutline_colorTraSE[t]?e-Q/(_.line_strokeWidth/$.lineSize)/b.plugSizeSE[t]*2:e/2)||x)}),x)),(n.faces||pt.line||pt.plug||pt.lineOutline||pt.plugOutline)&&(pt.faces=(E=(S=e).curStats,O=S.aplStats,M=S.events,L=!1,!E.line_altColor&&Bt(S,O,"line_color",w=E.line_color,M.apl_line_color)&&(S.lineFace.style.stroke=w,L=!0),Bt(S,O,"line_strokeWidth",w=E.line_strokeWidth,M.apl_line_strokeWidth)&&(S.lineShape.style.strokeWidth=w+"px",L=!0,(Z||Y)&&(At(S,S.lineShape),Y&&(At(S,S.lineFace),At(S,S.lineMaskCaps)))),Bt(S,O,"lineOutline_enabled",w=E.lineOutline_enabled,M.apl_lineOutline_enabled)&&(S.lineOutlineFace.style.display=w?"inline":"none",L=!0),E.lineOutline_enabled&&(Bt(S,O,"lineOutline_color",w=E.lineOutline_color,M.apl_lineOutline_color)&&(S.lineOutlineFace.style.stroke=w,L=!0),Bt(S,O,"lineOutline_strokeWidth",w=E.lineOutline_strokeWidth,M.apl_lineOutline_strokeWidth)&&(S.lineOutlineMaskShape.style.strokeWidth=w+"px",L=!0,Y&&(At(S,S.lineOutlineMaskCaps),At(S,S.lineOutlineFace))),Bt(S,O,"lineOutline_inStrokeWidth",w=E.lineOutline_inStrokeWidth,M.apl_lineOutline_inStrokeWidth)&&(S.lineMaskShape.style.strokeWidth=w+"px",L=!0,Y&&(At(S,S.lineOutlineMaskCaps),At(S,S.lineOutlineFace)))),Bt(S,O,"plug_enabled",w=E.plug_enabled,M.apl_plug_enabled)&&(S.plugsFace.style.display=w?"inline":"none",L=!0),E.plug_enabled&&[0,1].forEach(function(t){var e=E.plug_plugSE[t],n=e!==k?C[I[e]]:null,o=Pt(t,n);Bt(S,O.plug_enabledSE,t,w=E.plug_enabledSE[t],M.apl_plug_enabledSE)&&(S.plugsFace.style[o.prop]=w?"url(#"+S.plugMarkerIdSE[t]+")":"none",L=!0),E.plug_enabledSE[t]&&(Bt(S,O.plug_plugSE,t,e,M.apl_plug_plugSE)&&(S.plugFaceSE[t].href.baseVal="#"+n.elmId,Tt(S,S.plugMarkerSE[t],o.orient,n.bBox,S.svg,S.plugMarkerShapeSE[t],S.plugsFace),L=!0,Z&&At(S,S.plugsFace)),Bt(S,O.plug_colorSE,t,w=E.plug_colorSE[t],M.apl_plug_colorSE)&&(S.plugFaceSE[t].style.fill=w,L=!0,(X||K||Y)&&!E.line_colorTra&&At(S,Y?S.lineMaskCaps:S.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(e){var n="plug_"+e+"SE";Bt(S,O[n],t,w=E[n][t],M["apl_"+n])&&(S.plugMarkerSE[t][e].baseVal.value=w,L=!0)}),Bt(S,O.plugOutline_enabledSE,t,w=E.plugOutline_enabledSE[t],M.apl_plugOutline_enabledSE)&&(w?(S.plugFaceSE[t].style.mask="url(#"+S.plugMaskIdSE[t]+")",S.plugOutlineFaceSE[t].style.display="inline"):(S.plugFaceSE[t].style.mask="none",S.plugOutlineFaceSE[t].style.display="none"),L=!0),E.plugOutline_enabledSE[t]&&(Bt(S,O.plugOutline_plugSE,t,e,M.apl_plugOutline_plugSE)&&(S.plugOutlineFaceSE[t].href.baseVal=S.plugMaskShapeSE[t].href.baseVal=S.plugOutlineMaskShapeSE[t].href.baseVal="#"+n.elmId,[S.plugMaskSE[t],S.plugOutlineMaskSE[t]].forEach(function(t){t.x.baseVal.value=n.bBox.left,t.y.baseVal.value=n.bBox.top,t.width.baseVal.value=n.bBox.width,t.height.baseVal.value=n.bBox.height}),L=!0),Bt(S,O.plugOutline_colorSE,t,w=E.plugOutline_colorSE[t],M.apl_plugOutline_colorSE)&&(S.plugOutlineFaceSE[t].style.fill=w,L=!0,Y&&(At(S,S.lineMaskCaps),At(S,S.lineOutlineMaskCaps))),Bt(S,O.plugOutline_strokeWidthSE,t,w=E.plugOutline_strokeWidthSE[t],M.apl_plugOutline_strokeWidthSE)&&(S.plugOutlineMaskShapeSE[t].style.strokeWidth=w+"px",L=!0),Bt(S,O.plugOutline_inStrokeWidthSE,t,w=E.plugOutline_inStrokeWidthSE[t],M.apl_plugOutline_inStrokeWidthSE)&&(S.plugMaskShapeSE[t].style.strokeWidth=w+"px",L=!0)))}),L)),(n.position||pt.line||pt.plug)&&(pt.position=Ft(e)),(n.path||pt.position)&&(pt.path=(P=(A=e).curStats,V=A.aplStats,B=A.pathList.animVal||A.pathList.baseVal,W=P.path_edge,z=!1,B&&(W.x1=W.x2=B[0][0].x,W.y1=W.y2=B[0][0].y,P.path_pathData=N=kt(B,function(t){t.x<W.x1&&(W.x1=t.x),t.y<W.y1&&(W.y1=t.y),t.x>W.x2&&(W.x2=t.x),t.y>W.y2&&(W.y2=t.y)}),Mt(N,V.path_pathData)&&(A.linePath.setPathData(N),V.path_pathData=N,z=!0,Y?(At(A,A.plugsFace),At(A,A.lineMaskCaps)):Z&&At(A,A.linePath),A.events.apl_path&&A.events.apl_path.forEach(function(t){t(A,N)}))),z)),pt.viewBox=(R=(F=e).curStats,G=F.aplStats,H=R.path_edge,U=R.viewBox_bBox,q=G.viewBox_bBox,J=F.svg.viewBox.baseVal,tt=F.svg.style,et=!1,j=Math.max(R.line_strokeWidth/2,R.viewBox_plugBCircleSE[0]||0,R.viewBox_plugBCircleSE[1]||0),D={x1:H.x1-j,y1:H.y1-j,x2:H.x2+j,y2:H.y2+j},F.events.new_edge4viewBox&&F.events.new_edge4viewBox.forEach(function(t){t(F,D)}),U.x=R.lineMask_x=R.lineOutlineMask_x=R.maskBGRect_x=D.x1,U.y=R.lineMask_y=R.lineOutlineMask_y=R.maskBGRect_y=D.y1,U.width=D.x2-D.x1,U.height=D.y2-D.y1,["x","y","width","height"].forEach(function(t){var e;(e=U[t])!==q[t]&&(J[t]=q[t]=e,tt[T[t]]=e+("x"===t||"y"===t?F.bodyOffset[t]:0)+"px",et=!0)}),et),pt.mask=(it=(nt=e).curStats,rt=nt.aplStats,at=!1,it.plug_enabled?[0,1].forEach(function(t){it.capsMaskMarker_enabledSE[t]=it.plug_enabledSE[t]&&it.plug_colorTraSE[t]||it.plugOutline_enabledSE[t]&&it.plugOutline_colorTraSE[t]}):it.capsMaskMarker_enabledSE[0]=it.capsMaskMarker_enabledSE[1]=!1,it.capsMaskMarker_enabled=it.capsMaskMarker_enabledSE[0]||it.capsMaskMarker_enabledSE[1],it.lineMask_outlineMode=it.lineOutline_enabled,it.caps_enabled=it.capsMaskMarker_enabled||it.capsMaskAnchor_enabledSE[0]||it.capsMaskAnchor_enabledSE[1],it.lineMask_enabled=it.caps_enabled||it.lineMask_outlineMode,(it.lineMask_enabled&&!it.lineMask_outlineMode||it.lineOutline_enabled)&&["x","y"].forEach(function(t){var e="maskBGRect_"+t;Bt(nt,rt,e,ot=it[e])&&(nt.maskBGRect[t].baseVal.value=ot,at=!0)}),Bt(nt,rt,"lineMask_enabled",ot=it.lineMask_enabled)&&(nt.lineFace.style.mask=ot?"url(#"+nt.lineMaskId+")":"none",at=!0,K&&At(nt,nt.lineMask)),it.lineMask_enabled&&(Bt(nt,rt,"lineMask_outlineMode",ot=it.lineMask_outlineMode)&&(ot?(nt.lineMaskBG.style.display="none",nt.lineMaskShape.style.display="inline"):(nt.lineMaskBG.style.display="inline",nt.lineMaskShape.style.display="none"),at=!0),["x","y"].forEach(function(t){var e="lineMask_"+t;Bt(nt,rt,e,ot=it[e])&&(nt.lineMask[t].baseVal.value=ot,at=!0)}),Bt(nt,rt,"caps_enabled",ot=it.caps_enabled)&&(nt.lineMaskCaps.style.display=nt.lineOutlineMaskCaps.style.display=ot?"inline":"none",at=!0,K&&At(nt,nt.capsMaskLine)),it.caps_enabled&&([0,1].forEach(function(t){var e;Bt(nt,rt.capsMaskAnchor_enabledSE,t,ot=it.capsMaskAnchor_enabledSE[t])&&(nt.capsMaskAnchorSE[t].style.display=ot?"inline":"none",at=!0,K&&At(nt,nt.lineMask)),it.capsMaskAnchor_enabledSE[t]&&(Mt(e=it.capsMaskAnchor_pathDataSE[t],rt.capsMaskAnchor_pathDataSE[t])&&(nt.capsMaskAnchorSE[t].setPathData(e),rt.capsMaskAnchor_pathDataSE[t]=e,at=!0),Bt(nt,rt.capsMaskAnchor_strokeWidthSE,t,ot=it.capsMaskAnchor_strokeWidthSE[t])&&(nt.capsMaskAnchorSE[t].style.strokeWidth=ot+"px",at=!0))}),Bt(nt,rt,"capsMaskMarker_enabled",ot=it.capsMaskMarker_enabled)&&(nt.capsMaskLine.style.display=ot?"inline":"none",at=!0),it.capsMaskMarker_enabled&&[0,1].forEach(function(t){var e=it.capsMaskMarker_plugSE[t],n=e!==k?C[I[e]]:null,o=Pt(t,n);Bt(nt,rt.capsMaskMarker_enabledSE,t,ot=it.capsMaskMarker_enabledSE[t])&&(nt.capsMaskLine.style[o.prop]=ot?"url(#"+nt.lineMaskMarkerIdSE[t]+")":"none",at=!0),it.capsMaskMarker_enabledSE[t]&&(Bt(nt,rt.capsMaskMarker_plugSE,t,e)&&(nt.capsMaskMarkerShapeSE[t].href.baseVal="#"+n.elmId,Tt(nt,nt.capsMaskMarkerSE[t],o.orient,n.bBox,nt.svg,nt.capsMaskMarkerShapeSE[t],nt.capsMaskLine),at=!0,Z&&(At(nt,nt.capsMaskLine),At(nt,nt.lineFace))),["markerWidth","markerHeight"].forEach(function(e){var n="capsMaskMarker_"+e+"SE";Bt(nt,rt[n],t,ot=it[n][t])&&(nt.capsMaskMarkerSE[t][e].baseVal.value=ot,at=!0)}))}))),it.lineOutline_enabled&&["x","y"].forEach(function(t){var e="lineOutlineMask_"+t;Bt(nt,rt,e,ot=it[e])&&(nt.lineOutlineMask[t].baseVal.value=ot,at=!0)}),at),n.effect&&(ut=(st=e).curStats,ct=st.aplStats,Object.keys(t).forEach(function(e){var n=t[e],o=e+"_enabled",i=e+"_options",r=ut[i];Bt(st,ct,o,lt=ut[o])?(lt&&(ct[i]=dt(r)),n[lt?"init":"remove"](st)):lt&&ht(r,ct[i])&&(n.remove(st),ct[o]=!0,ct[i]=dt(r),n.init(st))})),(X||K)&&pt.line&&!pt.path&&At(e,e.lineShape),X&&pt.plug&&!pt.line&&At(e,e.plugsFace),Nt(e)}function Rt(t,e){return{duration:tt(t.duration)&&0<t.duration?t.duration:e.duration,timing:et.validTiming(t.timing)?t.timing:dt(e.timing)}}function Gt(t,n,o,i){var r,a=t.curStats,s=t.aplStats,l={};function u(){["show_on","show_effect","show_animOptions"].forEach(function(t){s[t]=a[t]})}a.show_on=n,o&&e[o]&&(a.show_effect=o,a.show_animOptions=Rt(J(i)?i:{},e[o].defaultAnimOptions)),l.show_on=a.show_on!==s.show_on,l.show_effect=a.show_effect!==s.show_effect,l.show_animOptions=ht(a.show_animOptions,s.show_animOptions),l.show_effect||l.show_animOptions?a.show_inAnim?(r=l.show_effect?e[s.show_effect].stop(t,!0,!0):e[s.show_effect].stop(t),u(),e[s.show_effect].init(t,r)):l.show_on&&(s.show_effect&&l.show_effect&&e[s.show_effect].stop(t,!0,!0),u(),e[s.show_effect].init(t)):l.show_on&&(u(),e[s.show_effect].start(t))}function Ht(t,e,n){var o={props:t,optionName:n};return!(!(t.attachments.indexOf(e)<0)||e.conf.bind&&!e.conf.bind(e,o)||(t.attachments.push(e),e.boundTargets.push(o),0))}function Ut(t,e,n){var o=t.attachments.indexOf(e);-1<o&&t.attachments.splice(o,1),e.boundTargets.some(function(n,i){return n.props===t&&(e.conf.unbind&&e.conf.unbind(e,n),o=i,!0)})&&(e.boundTargets.splice(o,1),n||It(function(){e.boundTargets.length||r(e)}))}function qt(r,a){var s,l,u=r.options,c={};function p(t,e,n,o,i){var r={};return n?null!=o?(r.container=t[n],r.key=o):(r.container=t,r.key=n):(r.container=t,r.key=e),r.default=i,r.acceptsAuto=null==r.default,r}function h(t,e,n,o,i,r,a){var s,l,u,c=p(t,n,i,r,a);return null!=e[n]&&(l=(e[n]+"").toLowerCase())&&(c.acceptsAuto&&l===N||(u=o[l]))&&u!==c.container[c.key]&&(c.container[c.key]=u,s=!0),null!=c.container[c.key]||c.acceptsAuto||(c.container[c.key]=c.default,s=!0),s}function f(t,e,n,o,i,r,a,s,l){var u,c,h,d,f=p(t,n,i,r,a);if(!o){if(null==f.default)throw new Error("Invalid `type`: "+n);o=typeof f.default}return null!=e[n]&&(f.acceptsAuto&&(e[n]+"").toLowerCase()===N||(h=c=e[n],("number"===(d=o)?tt(h):typeof h===d)&&(c=l&&"string"===o&&c?c.trim():c,1)&&(!s||s(c))))&&c!==f.container[f.key]&&(f.container[f.key]=c,u=!0),null!=f.container[f.key]||f.acceptsAuto||(f.container[f.key]=f.default,u=!0),u}if(a=a||{},["start","end"].forEach(function(t,e){var n=a[t],o=!1;if(n&&(mt(n)||(o=i(n,"anchor")))&&n!==u.anchorSE[e]){if(!1!==r.optionIsAttach.anchorSE[e]&&Ut(r,ct[u.anchorSE[e]._id]),o&&!Ht(r,ct[n._id],t))throw new Error("Can't bind attachment");u.anchorSE[e]=n,r.optionIsAttach.anchorSE[e]=o,l=c.position=!0}}),!u.anchorSE[0]||!u.anchorSE[1]||u.anchorSE[0]===u.anchorSE[1])throw new Error("`start` and `end` are required.");l&&(s=function(t,e){var n,o,i;if(!(n=vt(t))||!(o=vt(e)))throw new Error("Cannot get frames.");return n.length&&o.length&&(n.reverse(),o.reverse(),n.some(function(t){return o.some(function(e){return e===t&&(i=e.contentWindow,!0)})})),i||window}(!1!==r.optionIsAttach.anchorSE[0]?ct[u.anchorSE[0]._id].element:u.anchorSE[0],!1!==r.optionIsAttach.anchorSE[1]?ct[u.anchorSE[1]._id].element:u.anchorSE[1]))!==r.baseWindow&&(function(n,o){var r,a,s,l,u,c,p,h,f,m,g=n.aplStats,v=o.document,y=d+"-"+n._id;function b(t){var e=a.appendChild(v.createElementNS(U,"mask"));return e.id=t,e.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[e.x,e.y,e.width,e.height].forEach(function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e}function _(t){var e=a.appendChild(v.createElementNS(U,"marker"));return e.id=t,e.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,e.viewBox.baseVal||e.setAttribute("viewBox","0 0 0 0"),e}function x(t){return[t.width,t.height].forEach(function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),t}n.pathList={},Vt(g,it),Object.keys(t).forEach(function(e){var o=e+"_enabled";g[o]&&(t[e].remove(n),g[o]=!1)}),n.baseWindow&&n.svg&&n.baseWindow.document.body.removeChild(n.svg),zt(n.baseWindow=o),n.bodyOffset=Wt(o),n.svg=r=v.createElementNS(U,"svg"),r.className.baseVal=d,r.viewBox.baseVal||r.setAttribute("viewBox","0 0 0 0"),n.defs=a=r.appendChild(v.createElementNS(U,"defs")),n.linePath=l=a.appendChild(v.createElementNS(U,"path")),l.id=u=y+"-line-path",l.className.baseVal=d+"-line-path",K&&(l.style.fill="none"),n.lineShape=l=a.appendChild(v.createElementNS(U,"use")),l.id=c=y+"-line-shape",l.href.baseVal="#"+u,(s=a.appendChild(v.createElementNS(U,"g"))).id=p=y+"-caps",n.capsMaskAnchorSE=[0,1].map(function(){var t=s.appendChild(v.createElementNS(U,"path"));return t.className.baseVal=d+"-caps-mask-anchor",t}),n.lineMaskMarkerIdSE=[y+"-caps-mask-marker-0",y+"-caps-mask-marker-1"],n.capsMaskMarkerSE=[0,1].map(function(t){return _(n.lineMaskMarkerIdSE[t])}),n.capsMaskMarkerShapeSE=[0,1].map(function(t){var e=n.capsMaskMarkerSE[t].appendChild(v.createElementNS(U,"use"));return e.className.baseVal=d+"-caps-mask-marker-shape",e}),n.capsMaskLine=l=s.appendChild(v.createElementNS(U,"use")),l.className.baseVal=d+"-caps-mask-line",l.href.baseVal="#"+c,n.maskBGRect=l=x(a.appendChild(v.createElementNS(U,"rect"))),l.id=h=y+"-mask-bg-rect",l.className.baseVal=d+"-mask-bg-rect",K&&(l.style.fill="white"),n.lineMask=x(b(n.lineMaskId=y+"-line-mask")),n.lineMaskBG=l=n.lineMask.appendChild(v.createElementNS(U,"use")),l.href.baseVal="#"+h,n.lineMaskShape=l=n.lineMask.appendChild(v.createElementNS(U,"use")),l.className.baseVal=d+"-line-mask-shape",l.href.baseVal="#"+u,l.style.display="none",n.lineMaskCaps=l=n.lineMask.appendChild(v.createElementNS(U,"use")),l.href.baseVal="#"+p,n.lineOutlineMask=x(b(f=y+"-line-outline-mask")),(l=n.lineOutlineMask.appendChild(v.createElementNS(U,"use"))).href.baseVal="#"+h,n.lineOutlineMaskShape=l=n.lineOutlineMask.appendChild(v.createElementNS(U,"use")),l.className.baseVal=d+"-line-outline-mask-shape",l.href.baseVal="#"+u,n.lineOutlineMaskCaps=l=n.lineOutlineMask.appendChild(v.createElementNS(U,"use")),l.href.baseVal="#"+p,n.face=r.appendChild(v.createElementNS(U,"g")),n.lineFace=l=n.face.appendChild(v.createElementNS(U,"use")),l.href.baseVal="#"+c,n.lineOutlineFace=l=n.face.appendChild(v.createElementNS(U,"use")),l.href.baseVal="#"+c,l.style.mask="url(#"+f+")",l.style.display="none",n.plugMaskIdSE=[y+"-plug-mask-0",y+"-plug-mask-1"],n.plugMaskSE=[0,1].map(function(t){return b(n.plugMaskIdSE[t])}),n.plugMaskShapeSE=[0,1].map(function(t){var e=n.plugMaskSE[t].appendChild(v.createElementNS(U,"use"));return e.className.baseVal=d+"-plug-mask-shape",e}),m=[],n.plugOutlineMaskSE=[0,1].map(function(t){return b(m[t]=y+"-plug-outline-mask-"+t)}),n.plugOutlineMaskShapeSE=[0,1].map(function(t){var e=n.plugOutlineMaskSE[t].appendChild(v.createElementNS(U,"use"));return e.className.baseVal=d+"-plug-outline-mask-shape",e}),n.plugMarkerIdSE=[y+"-plug-marker-0",y+"-plug-marker-1"],n.plugMarkerSE=[0,1].map(function(t){var e=_(n.plugMarkerIdSE[t]);return K&&(e.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),e}),n.plugMarkerShapeSE=[0,1].map(function(t){return n.plugMarkerSE[t].appendChild(v.createElementNS(U,"g"))}),n.plugFaceSE=[0,1].map(function(t){return n.plugMarkerShapeSE[t].appendChild(v.createElementNS(U,"use"))}),n.plugOutlineFaceSE=[0,1].map(function(t){var e=n.plugMarkerShapeSE[t].appendChild(v.createElementNS(U,"use"));return e.style.mask="url(#"+m[t]+")",e.style.display="none",e}),n.plugsFace=l=n.face.appendChild(v.createElementNS(U,"use")),l.className.baseVal=d+"-plugs-face",l.href.baseVal="#"+c,l.style.display="none",n.curStats.show_inAnim?(n.isShown=1,e[g.show_effect].stop(n,!0)):n.isShown||(r.style.visibility="hidden"),v.body.appendChild(r),[0,1,2].forEach(function(t){var e,o=n.options.labelSEM[t];o&&i(o,"label")&&(e=ct[o._id]).conf.initSvg&&e.conf.initSvg(e,n)})}(r,s),c.line=c.plug=c.lineOutline=c.plugOutline=c.faces=c.effect=!0),c.position=h(u,a,"path",E,null,null,$.path)||c.position,c.position=h(u,a,"startSocket",y,"socketSE",0)||c.position,c.position=h(u,a,"endSocket",y,"socketSE",1)||c.position,[a.startSocketGravity,a.endSocketGravity].forEach(function(t,e){var n,o,i=!1;null!=t&&(Array.isArray(t)?tt(t[0])&&tt(t[1])&&(i=[t[0],t[1]],Array.isArray(u.socketGravitySE[e])&&(n=i,o=u.socketGravitySE[e],n.length===o.length&&n.every(function(t,e){return t===o[e]}))&&(i=!1)):((t+"").toLowerCase()===N?i=null:tt(t)&&0<=t&&(i=t),i===u.socketGravitySE[e]&&(i=!1)),!1!==i&&(u.socketGravitySE[e]=i,c.position=!0))}),c.line=f(u,a,"color",null,"lineColor",null,$.lineColor,null,!0)||c.line,c.line=f(u,a,"size",null,"lineSize",null,$.lineSize,function(t){return 0<t})||c.line,["startPlug","endPlug"].forEach(function(t,e){c.plug=h(u,a,t,L,"plugSE",e,$.plugSE[e])||c.plug,c.plug=f(u,a,t+"Color","string","plugColorSE",e,null,null,!0)||c.plug,c.plug=f(u,a,t+"Size",null,"plugSizeSE",e,$.plugSizeSE[e],function(t){return 0<t})||c.plug}),c.lineOutline=f(u,a,"outline",null,"lineOutlineEnabled",null,$.lineOutlineEnabled)||c.lineOutline,c.lineOutline=f(u,a,"outlineColor",null,"lineOutlineColor",null,$.lineOutlineColor,null,!0)||c.lineOutline,c.lineOutline=f(u,a,"outlineSize",null,"lineOutlineSize",null,$.lineOutlineSize,function(t){return 0<t&&t<=.48})||c.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(t,e){c.plugOutline=f(u,a,t,null,"plugOutlineEnabledSE",e,$.plugOutlineEnabledSE[e])||c.plugOutline,c.plugOutline=f(u,a,t+"Color","string","plugOutlineColorSE",e,null,null,!0)||c.plugOutline,c.plugOutline=f(u,a,t+"Size",null,"plugOutlineSizeSE",e,$.plugOutlineSizeSE[e],function(t){return 1<=t})||c.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(t,e){var s,l,c,p=a[t],h=u.labelSEM[e]&&!r.optionIsAttach.labelSEM[e]?ct[u.labelSEM[e]._id].text:u.labelSEM[e],d=!1;if((s="string"==typeof p)&&(p=p.trim()),(s||p&&(d=i(p,"label")))&&p!==h){if(u.labelSEM[e]&&(Ut(r,ct[u.labelSEM[e]._id]),u.labelSEM[e]=""),p){if(d?(l=ct[(c=p)._id]).boundTargets.slice().forEach(function(t){l.conf.removeOption(l,t)}):c=new o(n.captionLabel,[p]),!Ht(r,ct[c._id],t))throw new Error("Can't bind attachment");u.labelSEM[e]=c}r.optionIsAttach.labelSEM[e]=d}}),Object.keys(t).forEach(function(e){var n,o,i=t[e],s=e+"_enabled",l=e+"_options";function p(t){var e={};return i.optionsConf.forEach(function(n){var o=n[0],i=n[3];null==n[4]||e[i]||(e[i]=[]),("function"==typeof o?o:"id"===o?h:f).apply(null,[e,t].concat(n.slice(1)))}),e}function d(t){var n,o=e+"_animOptions";return t.hasOwnProperty("animation")?J(t.animation)?n=r.curStats[o]=Rt(t.animation,i.defaultAnimOptions):(n=!!t.animation,r.curStats[o]=n?Rt({},i.defaultAnimOptions):null):(n=!!i.defaultEnabled,r.curStats[o]=n?Rt({},i.defaultAnimOptions):null),n}a.hasOwnProperty(e)&&(n=a[e],J(n)?(r.curStats[s]=!0,o=r.curStats[l]=p(n),i.anim&&(r.curStats[l].animation=d(n))):(o=r.curStats[s]=!!n)&&(r.curStats[l]=p({}),i.anim&&(r.curStats[l].animation=d({}))),ht(o,u[e])&&(u[e]=o,c.effect=!0))}),Dt(r,c)}function Yt(n,o,i){var r={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Vt(r.curStats,it),Vt(r.aplStats,it),Object.keys(t).forEach(function(e){var n=t[e].stats;Vt(r.curStats,n),Vt(r.aplStats,n),r.options[e]=!1}),Vt(r.curStats,rt),Vt(r.aplStats,rt),r.curStats.show_effect=at,r.curStats.show_animOptions=dt(e[at].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ut}),r._id=this._id,lt[this._id]=r,1===arguments.length&&(i=n,n=null),i=i||{},(n||o)&&(i=dt(i),n&&(i.start=n),o&&(i.end=o)),r.isShown=r.aplStats.show_on=!i.hide,this.setOptions(i)}return t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(t){return 0<t}],["type","gap","number",null,null,null,function(t){return 0<t}]],init:function(e){Ct(e,"apl_line_strokeWidth",t.dash.update),e.lineFace.style.strokeDashoffset=0,t.dash.update(e)},remove:function(e){var n=e.curStats;Lt(e,"apl_line_strokeWidth",t.dash.update),n.dash_animId&&(et.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Vt(e.aplStats,t.dash.stats)},update:function(t){var e,n=t.curStats,o=t.aplStats,i=o.dash_options,r=!1;n.dash_len=i.len||2*o.line_strokeWidth,n.dash_gap=i.gap||o.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,r=Bt(t,o,"dash_len",n.dash_len)||r,(r=Bt(t,o,"dash_gap",n.dash_gap)||r)&&(t.lineFace.style.strokeDasharray=o.dash_len+","+o.dash_gap),n.dash_animOptions?(r=Bt(t,o,"dash_maxOffset",n.dash_maxOffset),o.dash_animOptions&&(r||ht(n.dash_animOptions,o.dash_animOptions))&&(n.dash_animId&&(e=et.stop(n.dash_animId),et.remove(n.dash_animId)),o.dash_animOptions=null),o.dash_animOptions||(n.dash_animId=et.add(function(t){return(1-t)*o.dash_maxOffset+"px"},function(e){t.lineFace.style.strokeDashoffset=e},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),o.dash_animOptions=dt(n.dash_animOptions))):o.dash_animOptions&&(n.dash_animId&&(et.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,o.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var n,o=e.baseWindow.document,i=e.defs,r=d+"-"+e._id+"-gradient";e.efc_gradient_gradient=n=i.appendChild(o.createElementNS(U,"linearGradient")),n.id=r,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(t){var n=e.efc_gradient_gradient.appendChild(o.createElementNS(U,"stop"));try{n.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;n.setAttribute("offset",t)}return n}),Ct(e,"cur_plug_colorSE",t.gradient.update),Ct(e,"apl_path",t.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+r+")",t.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),Lt(e,"cur_plug_colorSE",t.gradient.update),Lt(e,"apl_path",t.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Vt(e.aplStats,t.gradient.stats)},update:function(t){var e,n,o=t.curStats,i=t.aplStats,r=i.gradient_options,a=t.pathList.animVal||t.pathList.baseVal;[0,1].forEach(function(t){o.gradient_colorSE[t]=r.colorSE[t]||o.plug_colorSE[t]}),n=a[0][0],o.gradient_pointSE[0]={x:n.x,y:n.y},n=(e=a[a.length-1])[e.length-1],o.gradient_pointSE[1]={x:n.x,y:n.y},[0,1].forEach(function(e){var n;Bt(t,i.gradient_colorSE,e,n=o.gradient_colorSE[e])&&(K?(n=ft(n),t.efc_gradient_stopSE[e].style.stopColor=n[1],t.efc_gradient_stopSE[e].style.stopOpacity=n[0]):t.efc_gradient_stopSE[e].style.stopColor=n),["x","y"].forEach(function(r){(n=o.gradient_pointSE[e][r])!==i.gradient_pointSE[e][r]&&(t.efc_gradient_gradient[r+(e+1)].baseVal.value=i.gradient_pointSE[e][r]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(t){return 0<=t}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(t){return 0<=t&&t<=1}]],init:function(e){var n,o,i,r,a,s=e.baseWindow.document,l=e.defs,c=d+"-"+e._id+"-dropShadow",p=(n=s,o=c,a={},"boolean"!=typeof u&&(u=!!window.SVGFEDropShadowElement&&!K),a.elmsAppend=[a.elmFilter=i=n.createElementNS(U,"filter")],i.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,i.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.id=o,u?(a.elmOffset=a.elmBlur=r=i.appendChild(n.createElementNS(U,"feDropShadow")),a.styleFlood=r.style):(a.elmBlur=i.appendChild(n.createElementNS(U,"feGaussianBlur")),a.elmOffset=r=i.appendChild(n.createElementNS(U,"feOffset")),r.result.baseVal="offsetblur",r=i.appendChild(n.createElementNS(U,"feFlood")),a.styleFlood=r.style,(r=i.appendChild(n.createElementNS(U,"feComposite"))).in2.baseVal="offsetblur",r.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(r=i.appendChild(n.createElementNS(U,"feMerge"))).appendChild(n.createElementNS(U,"feMergeNode")),r.appendChild(n.createElementNS(U,"feMergeNode")).in1.baseVal="SourceGraphic"),a);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(t){e["efc_dropShadow_"+t]=p[t]}),p.elmsAppend.forEach(function(t){l.appendChild(t)}),e.face.setAttribute("filter","url(#"+c+")"),Ct(e,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(e)},remove:function(e){var n=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(t){n.removeChild(t)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),Lt(e,"new_edge4viewBox",t.dropShadow.adjustEdge),Dt(e,{}),e.face.removeAttribute("filter"),Vt(e.aplStats,t.dropShadow.stats)},update:function(t){var e,n,o=t.curStats,i=t.aplStats,r=i.dropShadow_options;o.dropShadow_dx=e=r.dx,Bt(t,i,"dropShadow_dx",e)&&(t.efc_dropShadow_elmOffset.dx.baseVal=e,n=!0),o.dropShadow_dy=e=r.dy,Bt(t,i,"dropShadow_dy",e)&&(t.efc_dropShadow_elmOffset.dy.baseVal=e,n=!0),o.dropShadow_blur=e=r.blur,Bt(t,i,"dropShadow_blur",e)&&(t.efc_dropShadow_elmBlur.setStdDeviation(e,e),n=!0),n&&Dt(t,{}),o.dropShadow_color=e=r.color,Bt(t,i,"dropShadow_color",e)&&(t.efc_dropShadow_styleFlood.floodColor=e),o.dropShadow_opacity=e=r.opacity,Bt(t,i,"dropShadow_opacity",e)&&(t.efc_dropShadow_styleFlood.floodOpacity=e)},adjustEdge:function(t,e){var n,o,i=t.curStats,r=t.aplStats;null!=i.dropShadow_dx&&(n=3*i.dropShadow_blur,(o={x1:e.x1-n+i.dropShadow_dx,y1:e.y1-n+i.dropShadow_dy,x2:e.x2+n+i.dropShadow_dx,y2:e.y2+n+i.dropShadow_dy}).x1<e.x1&&(e.x1=o.x1),o.y1<e.y1&&(e.y1=o.y1),o.x2>e.x2&&(e.x2=o.x2),o.y2>e.y2&&(e.y2=o.y2),["x","y"].forEach(function(n){var o,a="dropShadow_"+n;i[a]=o=e[n+"1"],Bt(t,r,a,o)&&(t.efc_dropShadow_elmFilter[n].baseVal.value=o)}))}}},Object.keys(t).forEach(function(e){var n=t[e],o=n.stats;o[e+"_enabled"]={iniValue:!1},o[e+"_options"]={hasProps:!0},n.anim&&(o[e+"_animOptions"]={},o[e+"_animId"]={})}),e={none:{defaultAnimOptions:{},init:function(t,n){var o=t.curStats;o.show_animId&&(et.remove(o.show_animId),o.show_animId=null),e.none.start(t,n)},start:function(t,n){e.none.stop(t,!0)},stop:function(t,e,n){var o=t.curStats;return n=null!=n?n:t.aplStats.show_on,o.show_inAnim=!1,e&&jt(t,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(t,n){var o=t.curStats,i=t.aplStats;o.show_animId&&et.remove(o.show_animId),o.show_animId=et.add(function(t){return t},function(n,o){o?e.fade.stop(t,!0):(t.svg.style.opacity=n+"",Y&&(At(t,t.svg),Nt(t)))},i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),e.fade.start(t,n)},start:function(t,e){var n,o=t.curStats;o.show_inAnim&&(n=et.stop(o.show_animId)),jt(t,1),o.show_inAnim=!0,et.start(o.show_animId,!t.aplStats.show_on,null!=e?e:n)},stop:function(t,e,n){var o,i=t.curStats;return n=null!=n?n:t.aplStats.show_on,o=i.show_inAnim?et.stop(i.show_animId):n?1:0,i.show_inAnim=!1,e&&(t.svg.style.opacity=n?"":"0",jt(t,n)),o}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(t,n){var o=t.curStats,i=t.aplStats,r=t.pathList.baseVal,a=Ot(r),s=a.segsLen,l=a.lenAll;o.show_animId&&et.remove(o.show_animId),o.show_animId=et.add(function(t){var e,n,o,i,a=-1;if(0===t)n=[[r[0][0],r[0][0]]];else if(1===t)n=r;else{for(e=l*t,n=[];e>=s[++a];)n.push(r[a]),e-=s[a];e&&(2===(o=r[a]).length?n.push([o[0],_t(o[0],o[1],e/s[a])]):(i=St(o[0],o[1],o[2],o[3],Et(o[0],o[1],o[2],o[3],e)),n.push([o[0],i.fromP1,i.fromP2,i])))}return n},function(n,o){o?e.draw.stop(t,!0):(t.pathList.animVal=n,Dt(t,{path:!0}))},i.show_animOptions.duration,1,i.show_animOptions.timing,null,!1),e.draw.start(t,n)},start:function(t,n){var o,i=t.curStats;i.show_inAnim&&(o=et.stop(i.show_animId)),jt(t,1),i.show_inAnim=!0,Ct(t,"apl_position",e.draw.update),et.start(i.show_animId,!t.aplStats.show_on,null!=n?n:o)},stop:function(t,e,n){var o,i=t.curStats;return n=null!=n?n:t.aplStats.show_on,o=i.show_inAnim?et.stop(i.show_animId):n?1:0,i.show_inAnim=!1,e&&(t.pathList.animVal=n?null:[[t.pathList.baseVal[0][0],t.pathList.baseVal[0][0]]],Dt(t,{path:!0}),jt(t,n)),o},update:function(t){Lt(t,"apl_position",e.draw.update),t.curStats.show_inAnim?e.draw.init(t,e.draw.stop(t)):t.aplStats.show_animOptions={}}}},function(){function e(t){return function(e){var n={};n[t]=e,this.setOptions(n)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(t){var n=t[0],o=t[1],i=t[2];Object.defineProperty(Yt.prototype,n,{get:function(){var t=null!=i?lt[this._id].options[o][i]:o?lt[this._id].options[o]:lt[this._id].options[n];return null==t?N:dt(t)},set:e(n),enumerable:!0})}),[["path",E],["startSocket",y,"socketSE",0],["endSocket",y,"socketSE",1],["startPlug",L,"plugSE",0],["endPlug",L,"plugSE",1]].forEach(function(t){var n=t[0],o=t[1],i=t[2],r=t[3];Object.defineProperty(Yt.prototype,n,{get:function(){var t,e=null!=r?lt[this._id].options[i][r]:i?lt[this._id].options[i]:lt[this._id].options[n];return e?Object.keys(o).some(function(n){return o[n]===e&&(t=n,!0)})?t:new Error("It's broken"):N},set:e(n),enumerable:!0})}),Object.keys(t).forEach(function(n){var o=t[n];Object.defineProperty(Yt.prototype,n,{get:function(){var t,e,i=lt[this._id].options[n];return J(i)?(t=i,e=o.optionsConf.reduce(function(e,n){var o,i=n[0],r=n[1],a=n[2],s=n[3],l=n[4],u=null!=l?t[s][l]:s?t[s]:t[r];return e[r]="id"===i?u?Object.keys(a).some(function(t){return a[t]===u&&(o=t,!0)})?o:new Error("It's broken"):N:null==u?N:dt(u),e},{}),o.anim&&(e.animation=dt(t.animation)),e):i},set:e(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(t,n){Object.defineProperty(Yt.prototype,t,{get:function(){var t=lt[this._id],e=t.options;return e.labelSEM[n]&&!t.optionIsAttach.labelSEM[n]?ct[e.labelSEM[n]._id].text:e.labelSEM[n]||""},set:e(t),enumerable:!0})})}(),Yt.prototype.setOptions=function(t){return qt(lt[this._id],t),this},Yt.prototype.position=function(){return Dt(lt[this._id],{position:!0}),this},Yt.prototype.remove=function(){var e=lt[this._id],n=e.curStats;Object.keys(t).forEach(function(t){var e=t+"_animId";n[e]&&et.remove(n[e])}),n.show_animId&&et.remove(n.show_animId),e.attachments.slice().forEach(function(t){Ut(e,t)}),e.baseWindow&&e.svg&&e.baseWindow.document.body.removeChild(e.svg),delete lt[this._id]},Yt.prototype.show=function(t,e){return Gt(lt[this._id],!0,t,e),this},Yt.prototype.hide=function(t,e){return Gt(lt[this._id],!1,t,e),this},r=function(t){t&&ct[t._id]&&(t.boundTargets.slice().forEach(function(e){Ut(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete ct[t._id])},o=function(){function t(t,e){var n,o={conf:t,curStats:{},aplStats:{},boundTargets:[]},i={};t.argOptions.every(function(t){return!(!e.length||("string"==typeof t.type?typeof e[0]!==t.type:"function"!=typeof t.type||!t.type(e[0]))||(i[t.optionName]=e.shift(),0))}),n=e.length&&J(e[0])?dt(e[0]):{},Object.keys(i).forEach(function(t){n[t]=i[t]}),t.stats&&(Vt(o.curStats,t.stats),Vt(o.aplStats,t.stats)),Object.defineProperty(this,"_id",{value:++pt}),Object.defineProperty(this,"isRemoved",{get:function(){return!ct[this._id]}}),o._id=this._id,t.init&&!t.init(o,n)||(ct[this._id]=o)}return t.prototype.remove=function(){var t=this,e=ct[t._id];e&&(e.boundTargets.slice().forEach(function(t){e.conf.removeOption(e,t)}),It(function(){var e=ct[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),r(e))}))},t}(),window.LeaderLineAttachment=o,i=function(t,e){return t instanceof o&&(!(t.isRemoved||e&&ct[t._id].conf.type!==e)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:mt}],init:function(t,e){return t.element=n.pointAnchor.checkElement(e.element),t.x=n.pointAnchor.parsePercent(e.x,!0)||[.5,!0],t.y=n.pointAnchor.parsePercent(e.y,!0)||[.5,!0],!0},removeOption:function(t,e){var i=e.props,r={},a=t.element,s=i.options.anchorSE["start"===e.optionName?1:0];a===s&&(a=s===document.body?new o(n.pointAnchor,[a]):document.body),r[e.optionName]=a,qt(i,r)},getBBoxNest:function(t,e){var n=yt(t.element,e.baseWindow),o=n.width,i=n.height;return n.width=n.height=0,n.left=n.right=n.left+t.x[0]*(t.x[1]?o:1),n.top=n.bottom=n.top+t.y[0]*(t.y[1]?i:1),n},parsePercent:function(t,e){var n,o,i=!1;return tt(t)?o=t:"string"==typeof t&&(n=H.exec(t))&&n[2]&&(i=0!=(o=parseFloat(n[1])/100)),null!=o&&(e||0<=o)?[o,i]:null},checkElement:function(t){if(null==t)t=document.body;else if(!mt(t))throw new Error("`element` must be Element");return t}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:mt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(t,e){var o,i,r,a=[];return t.element=n.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(t.color=e.color.trim()),"string"==typeof e.fillColor&&(t.fill=e.fillColor.trim()),tt(e.size)&&0<=e.size&&(t.size=e.size),e.dash&&(t.dash=!0,tt(e.dash.len)&&0<e.dash.len&&(t.dashLen=e.dash.len),tt(e.dash.gap)&&0<e.dash.gap&&(t.dashGap=e.dash.gap)),"circle"===e.shape?t.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(e){var o={};return!(!(o.x=n.pointAnchor.parsePercent(e[0],!0))||!(o.y=n.pointAnchor.parsePercent(e[1],!0))||(a.push(o),(o.x[1]||o.y[1])&&(t.hasRatio=!0),0))})?(t.shape=e.shape,t.points=a):(t.shape="rect",t.radius=tt(e.radius)&&0<=e.radius?e.radius:0),"rect"!==t.shape&&"circle"!==t.shape||(t.x=n.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],t.y=n.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],t.width=n.pointAnchor.parsePercent(e.width)||[1.1,!0],t.height=n.pointAnchor.parsePercent(e.height)||[1.1,!0],(t.x[1]||t.y[1]||t.width[1]||t.height[1])&&(t.hasRatio=!0)),o=t.element.ownerDocument,t.svg=i=o.createElementNS(U,"svg"),i.className.baseVal=d+"-areaAnchor",i.viewBox.baseVal||i.setAttribute("viewBox","0 0 0 0"),t.path=i.appendChild(o.createElementNS(U,"path")),t.path.style.fill=t.fill||"none",t.isShown=!1,i.style.visibility="hidden",o.body.appendChild(i),zt(r=o.defaultView),t.bodyOffset=Wt(r),t.updateColor=function(){var e,n=t.curStats,o=t.aplStats,i=t.boundTargets.length?t.boundTargets[0].props.curStats:null;n.color=e=t.color||(i?i.line_color:$.lineColor),Bt(t,o,"color",e)&&(t.path.style.stroke=e)},t.updateShow=function(){jt(t,t.boundTargets.some(function(t){return!0===t.props.isShown}))},!0},bind:function(t,e){var n=e.props;return t.color||Ct(n,"cur_line_color",t.updateColor),Ct(n,"svgShow",t.updateShow),It(function(){t.updateColor(),t.updateShow()}),!0},unbind:function(t,e){var o=e.props;t.color||Lt(o,"cur_line_color",t.updateColor),Lt(o,"svgShow",t.updateShow),1<t.boundTargets.length&&It(function(){t.updateColor(),t.updateShow(),n.areaAnchor.update(t)&&t.boundTargets.forEach(function(t){Dt(t.props,{position:!0})})})},removeOption:function(t,e){n.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){n.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(t,e){return n.areaAnchor.update(t)&&1<t.boundTargets.length&&It(function(){t.boundTargets.forEach(function(t){t.props!==e&&Dt(t.props,{position:!0})})}),t.curStats.strokeWidth},getPathData:function(t,e){var n=yt(t.element,e.baseWindow);return kt(t.curStats.pathListRel,function(t){t.x+=n.left,t.y+=n.top})},getBBoxNest:function(t,e){var n=yt(t.element,e.baseWindow),o=t.curStats.bBoxRel;return{left:o.left+n.left,top:o.top+n.top,right:o.right+n.left,bottom:o.bottom+n.top,width:o.width,height:o.height}},update:function(t){var e,n,o,i,r,a,s,l,u,c,p,h,d,f,m,g,v,y,b,_,x,S,w,E,k,O,M,C,L,I,A,N,P=t.curStats,V=t.aplStats,B=t.boundTargets.length?t.boundTargets[0].props.curStats:null,W={};if(W.strokeWidth=Bt(t,P,"strokeWidth",null!=t.size?t.size:B?B.line_strokeWidth:$.lineSize),e=gt(t.element),W.elementWidth=Bt(t,P,"elementWidth",e.width),W.elementHeight=Bt(t,P,"elementHeight",e.height),W.elementLeft=Bt(t,P,"elementLeft",e.left),W.elementTop=Bt(t,P,"elementTop",e.top),W.strokeWidth||t.hasRatio&&(W.elementWidth||W.elementHeight)){switch(t.shape){case"rect":(_={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).right=_.left+_.width,_.bottom=_.top+_.height,E=P.strokeWidth/2,S=(w=Math.min(_.width,_.height))?w/2*Math.SQRT2+E:0,(x=t.radius?t.radius<=S?t.radius:S:0)?(O=x-(k=(x-E)/Math.SQRT2),C=x*R,M=[{x:_.left-O,y:_.top+k},{x:_.left+k,y:_.top-O},{x:_.right-k,y:_.top-O},{x:_.right+O,y:_.top+k},{x:_.right+O,y:_.bottom-k},{x:_.right-k,y:_.bottom+O},{x:_.left+k,y:_.bottom+O},{x:_.left-O,y:_.bottom-k}],P.pathListRel=[[M[0],{x:M[0].x,y:M[0].y-C},{x:M[1].x-C,y:M[1].y},M[1]]],M[1].x!==M[2].x&&P.pathListRel.push([M[1],M[2]]),P.pathListRel.push([M[2],{x:M[2].x+C,y:M[2].y},{x:M[3].x,y:M[3].y-C},M[3]]),M[3].y!==M[4].y&&P.pathListRel.push([M[3],M[4]]),P.pathListRel.push([M[4],{x:M[4].x,y:M[4].y+C},{x:M[5].x+C,y:M[5].y},M[5]]),M[5].x!==M[6].x&&P.pathListRel.push([M[5],M[6]]),P.pathListRel.push([M[6],{x:M[6].x-C,y:M[6].y},{x:M[7].x,y:M[7].y+C},M[7]]),M[7].y!==M[0].y&&P.pathListRel.push([M[7],M[0]]),P.pathListRel.push([]),O=x-k+P.strokeWidth/2,M=[{x:_.left-O,y:_.top-O},{x:_.right+O,y:_.bottom+O}]):(O=P.strokeWidth/2,M=[{x:_.left-O,y:_.top-O},{x:_.right+O,y:_.bottom+O}],P.pathListRel=[[M[0],{x:M[1].x,y:M[0].y}],[{x:M[1].x,y:M[0].y},M[1]],[M[1],{x:M[0].x,y:M[1].y}],[]],M=[{x:_.left-P.strokeWidth,y:_.top-P.strokeWidth},{x:_.right+P.strokeWidth,y:_.bottom+P.strokeWidth}]),P.bBoxRel={left:M[0].x,top:M[0].y,right:M[1].x,bottom:M[1].y,width:M[1].x-M[0].x,height:M[1].y-M[0].y};break;case"circle":(s={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).width||s.height||(s.width=s.height=10),s.width||(s.width=s.height),s.height||(s.height=s.width),s.right=s.left+s.width,s.bottom=s.top+s.height,l=s.left+s.width/2,u=s.top+s.height/2,f=P.strokeWidth/2,m=s.width/2,g=s.height/2,c=m*Math.SQRT2+f,p=g*Math.SQRT2+f,h=c*R,d=p*R,b=[{x:l-c,y:u},{x:l,y:u-p},{x:l+c,y:u},{x:l,y:u+p}],P.pathListRel=[[b[0],{x:b[0].x,y:b[0].y-d},{x:b[1].x-h,y:b[1].y},b[1]],[b[1],{x:b[1].x+h,y:b[1].y},{x:b[2].x,y:b[2].y-d},b[2]],[b[2],{x:b[2].x,y:b[2].y+d},{x:b[3].x+h,y:b[3].y},b[3]],[b[3],{x:b[3].x-h,y:b[3].y},{x:b[0].x,y:b[0].y+d},b[0]],[]],v=c-m+P.strokeWidth/2,y=p-g+P.strokeWidth/2,b=[{x:s.left-v,y:s.top-y},{x:s.right+v,y:s.bottom+y}],P.bBoxRel={left:b[0].x,top:b[0].y,right:b[1].x,bottom:b[1].y,width:b[1].x-b[0].x,height:b[1].y-b[0].y};break;case"polygon":t.points.forEach(function(t){var n=t.x[0]*(t.x[1]?e.width:1),r=t.y[0]*(t.y[1]?e.height:1);o?(n<o.left&&(o.left=n),n>o.right&&(o.right=n),r<o.top&&(o.top=r),r>o.bottom&&(o.bottom=r)):o={left:n,right:n,top:r,bottom:r},i?P.pathListRel.push([i,{x:n,y:r}]):P.pathListRel=[],i={x:n,y:r}}),P.pathListRel.push([]),r=P.strokeWidth/2,a=[{x:o.left-r,y:o.top-r},{x:o.right+r,y:o.bottom+r}],P.bBoxRel={left:a[0].x,top:a[0].y,right:a[1].x,bottom:a[1].y,width:a[1].x-a[0].x,height:a[1].y-a[0].y}}W.pathListRel=W.bBoxRel=!0}return(W.pathListRel||W.elementLeft||W.elementTop)&&(P.pathData=kt(P.pathListRel,function(t){t.x+=e.left,t.y+=e.top})),Bt(t,V,"strokeWidth",n=P.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),Mt(n=P.pathData,V.pathData)&&(t.path.setPathData(n),V.pathData=n,W.pathData=!0),t.dash&&(!W.pathData&&(!W.strokeWidth||t.dashLen&&t.dashGap)||(P.dashLen=t.dashLen||2*P.strokeWidth,P.dashGap=t.dashGap||P.strokeWidth),W.dash=Bt(t,V,"dashLen",P.dashLen)||W.dash,W.dash=Bt(t,V,"dashGap",P.dashGap)||W.dash,W.dash&&(t.path.style.strokeDasharray=V.dashLen+","+V.dashGap)),L=P.viewBoxBBox,I=V.viewBoxBBox,A=t.svg.viewBox.baseVal,N=t.svg.style,L.x=P.bBoxRel.left+e.left,L.y=P.bBoxRel.top+e.top,L.width=P.bBoxRel.width,L.height=P.bBoxRel.height,["x","y","width","height"].forEach(function(e){(n=L[e])!==I[e]&&(A[e]=I[e]=n,N[T[e]]=n+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")}),W.strokeWidth||W.pathListRel||W.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:mt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(t,o){var i,r,a,s,l,u,c,p,h,d,f,m=n.mouseHoverAnchor,g={};if(t.element=n.pointAnchor.checkElement(o.element),!((d=(p=t.element).ownerDocument)&&(h=d.defaultView)&&h.HTMLElement&&p instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return m.style.backgroundSize=m.backgroundSize.width+"px "+m.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(e){var n=m[e];t[e]=Object.keys(n).reduce(function(t,e){return t[e]=n[e],t},{})}),"inline"===(i=t.element.ownerDocument.defaultView.getComputedStyle(t.element,"")).display?t.style.display="inline-block":"none"===i.display&&(t.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach(function(e){var n=e[0],o="padding"+e[1];parseFloat(i[o])<m.padding[n]&&(t.style[o]=m.padding[n]+"px")}),t.style.display&&(s=t.element.style.display,t.element.style.display=t.style.display),n.mouseHoverAnchor.dirKeys.forEach(function(e){var n="padding"+e[1];t.style[n]&&(g[n]=t.element.style[n],t.element.style[n]=t.style[n])}),(a=t.element.getBoundingClientRect()).height<m.minHeight&&(Y?(f=m.minHeight,"content-box"===i.boxSizing?f-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+parseFloat(i.paddingTop)+parseFloat(i.paddingBottom):"padding-box"===i.boxSizing&&(f-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),t.style.height=f+"px"):t.style.height=parseFloat(i.height)+(m.minHeight-a.height)+"px"),t.style.backgroundPosition=K?a.width-m.backgroundSize.width-m.backgroundPosition.right+"px "+m.backgroundPosition.top+"px":"right "+m.backgroundPosition.right+"px top "+m.backgroundPosition.top+"px",t.style.display&&(t.element.style.display=s),n.mouseHoverAnchor.dirKeys.forEach(function(e){var n="padding"+e[1];t.style[n]&&(t.element.style[n]=g[n])}),["style","hoverStyle"].forEach(function(e){var n=t[e],i=o[e];J(i)&&Object.keys(i).forEach(function(t){"string"==typeof i[t]||tt(i[t])?n[t]=i[t]:null==i[t]&&delete n[t]})}),"function"==typeof o.onSwitch&&(c=o.onSwitch),o.showEffectName&&e[o.showEffectName]&&(t.showEffectName=l=o.showEffectName),u=o.animOptions,t.elmStyle=r=t.element.style,t.mouseenter=function(e){t.hoverStyleSave=m.getStyles(r,Object.keys(t.hoverStyle)),m.setStyles(r,t.hoverStyle),t.boundTargets.forEach(function(t){Gt(t.props,!0,l,u)}),c&&c(e)},t.mouseleave=function(e){m.setStyles(r,t.hoverStyleSave),t.boundTargets.forEach(function(t){Gt(t.props,!1,l,u)}),c&&c(e)},!0},bind:function(t,e){var o,i,r,a,s;return e.props.svg?n.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName):It(function(){n.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName)}),t.enabled||(t.styleSave=n.mouseHoverAnchor.getStyles(t.elmStyle,Object.keys(t.style)),n.mouseHoverAnchor.setStyles(t.elmStyle,t.style),t.removeEventListener=(o=t.element,i=t.mouseenter,r=t.mouseleave,"onmouseenter"in o&&"onmouseleave"in o?(o.addEventListener("mouseenter",i,!1),o.addEventListener("mouseleave",r,!1),function(){o.removeEventListener("mouseenter",i,!1),o.removeEventListener("mouseleave",r,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),a=function(t){t.relatedTarget&&(t.relatedTarget===this||this.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)},o.addEventListener("mouseover",a),s=function(t){t.relatedTarget&&(t.relatedTarget===this||this.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||r.apply(this,arguments)},o.addEventListener("mouseout",s),function(){o.removeEventListener("mouseover",a,!1),o.removeEventListener("mouseout",s,!1)})),t.enabled=!0),!0},unbind:function(t,e){t.enabled&&t.boundTargets.length<=1&&(t.removeEventListener(),n.mouseHoverAnchor.setStyles(t.elmStyle,t.styleSave),t.enabled=!1),n.mouseHoverAnchor.llShow(e.props,!0,t.showEffectName)},removeOption:function(t,e){n.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){n.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(t,e){return yt(t.element,e.baseWindow)},llShow:function(t,n,o){e[o||t.curStats.show_effect].stop(t,!0,n),t.aplStats.show_on=n},getStyles:function(t,e){return e.reduce(function(e,n){return e[n]=t[n],e},{})},setStyles:function(t,e){Object.keys(e).forEach(function(n){t[n]=e[n]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",Array.isArray(e.offset)&&tt(e.offset[0])&&tt(e.offset[1])&&(t.offset={x:e.offset[0],y:e.offset[1]}),tt(e.lineOffset)&&(t.lineOffset=e.lineOffset),n.captionLabel.textStyleProps.forEach(function(n){null!=e[n]&&(t[n]=e[n])}),t.updateColor=function(e){n.captionLabel.updateColor(t,e)},t.updateSocketXY=function(e){var n,o,i,r,a=t.curStats,s=t.aplStats,l=e.curStats,u=l.position_socketXYSE[t.socketIndex];null!=u.x&&(t.offset?(a.x=u.x+t.offset.x,a.y=u.y+t.offset.y):(n=t.height/2,o=Math.max(l.attach_plugSideLenSE[t.socketIndex]||0,l.line_strokeWidth/2),i=l.position_socketXYSE[t.socketIndex?0:1],u.socketId===v||u.socketId===m?(a.x=u.socketId===v?u.x-n-t.width:u.x+n,a.y=i.y<u.y?u.y+o+n:u.y-o-n-t.height):(a.x=i.x<u.x?u.x+o+n:u.x-o-n-t.width,a.y=u.socketId===f?u.y-n-t.height:u.y+n)),Bt(t,s,"x",r=a.x)&&(t.elmPosition.x.baseVal.getItem(0).value=r),Bt(t,s,"y",r=a.y)&&(t.elmPosition.y.baseVal.getItem(0).value=r+t.height))},t.updatePath=function(e){var o,i,r=t.curStats,a=t.aplStats,s=e.pathList.animVal||e.pathList.baseVal;s&&(o=n.captionLabel.getMidPoint(s,t.lineOffset),r.x=o.x-t.width/2,r.y=o.y-t.height/2,Bt(t,a,"x",i=r.x)&&(t.elmPosition.x.baseVal.getItem(0).value=i),Bt(t,a,"y",i=r.y)&&(t.elmPosition.y.baseVal.getItem(0).value=i+t.height))},t.updateShow=function(e){n.captionLabel.updateShow(t,e)},K&&(t.adjustEdge=function(e,o){var i=t.curStats;null!=i.x&&n.captionLabel.adjustEdge(o,{x:i.x,y:i.y,width:t.width,height:t.height},t.strokeWidth/2)}),!0)},updateColor:function(t,e){var n,o=t.curStats,i=t.aplStats,r=e.curStats;o.color=n=t.color||r.line_color,Bt(t,i,"color",n)&&(t.styleFill.fill=n)},updateShow:function(t,e){var n=!0===e.isShown;n!==t.isShown&&(t.styleShow.visibility=n?"":"hidden",t.isShown=n)},adjustEdge:function(t,e,n){var o={x1:e.x-n,y1:e.y-n,x2:e.x+e.width+n,y2:e.y+e.height+n};o.x1<t.x1&&(t.x1=o.x1),o.y1<t.y1&&(t.y1=o.y1),o.x2>t.x2&&(t.x2=o.x2),o.y2>t.y2&&(t.y2=o.y2)},newText:function(t,e,n,o,i){var r,a,s,u,c,p;return(r=e.createElementNS(U,"text")).textContent=t,[r.x,r.y].forEach(function(t){var e=n.createSVGLength();e.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),t.baseVal.initialize(e)}),"boolean"!=typeof l&&(l="paintOrder"in r.style),i&&!l?(s=e.createElementNS(U,"defs"),r.id=o,s.appendChild(r),(c=(a=e.createElementNS(U,"g")).appendChild(e.createElementNS(U,"use"))).href.baseVal="#"+o,(u=a.appendChild(e.createElementNS(U,"use"))).href.baseVal="#"+o,(p=c.style).strokeLinejoin="round",{elmPosition:r,styleText:r.style,styleFill:u.style,styleStroke:p,styleShow:a.style,elmsAppend:[s,a]}):(p=r.style,i&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:r,styleText:p,styleFill:p,styleStroke:i?p:null,styleShow:p,elmsAppend:[r]})},getMidPoint:function(t,e){var n,o,i,r=Ot(t),a=r.segsLen,s=r.lenAll,l=-1;if((n=s/2+(e||0))<=0)return 2===(o=t[0]).length?_t(o[0],o[1],0):St(o[0],o[1],o[2],o[3],0);if(s<=n)return 2===(o=t[t.length-1]).length?_t(o[0],o[1],1):St(o[0],o[1],o[2],o[3],1);for(i=[];n>a[++l];)i.push(t[l]),n-=a[l];return 2===(o=t[l]).length?_t(o[0],o[1],n/a[l]):St(o[0],o[1],o[2],o[3],Et(o[0],o[1],o[2],o[3],n))},initSvg:function(t,e){var o,i,r=n.captionLabel.newText(t.text,e.baseWindow.document,e.svg,d+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=r[e]}),t.isShown=!1,t.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(r.styleText[e]=t[e])}),r.elmsAppend.forEach(function(t){e.svg.appendChild(t)}),o=r.elmPosition.getBBox(),t.width=o.width,t.height=o.height,t.outlineColor&&(i=10<(i=o.height/9)?10:i<2?2:i,r.styleStroke.strokeWidth=i+"px",r.styleStroke.stroke=t.outlineColor),t.strokeWidth=i||0,Vt(t.aplStats,n.captionLabel.stats),t.updateColor(e),t.refSocketXY?t.updateSocketXY(e):t.updatePath(e),K&&Dt(e,{}),t.updateShow(e)},bind:function(t,e){var o=e.props;return t.color||Ct(o,"cur_line_color",t.updateColor),(t.refSocketXY="startLabel"===e.optionName||"endLabel"===e.optionName)?(t.socketIndex="startLabel"===e.optionName?0:1,Ct(o,"apl_position",t.updateSocketXY),t.offset||(Ct(o,"cur_attach_plugSideLenSE",t.updateSocketXY),Ct(o,"cur_line_strokeWidth",t.updateSocketXY))):Ct(o,"apl_path",t.updatePath),Ct(o,"svgShow",t.updateShow),K&&Ct(o,"new_edge4viewBox",t.adjustEdge),n.captionLabel.initSvg(t,o),!0},unbind:function(t,e){var o=e.props;t.elmsAppend&&(t.elmsAppend.forEach(function(t){o.svg.removeChild(t)}),t.elmPosition=t.styleFill=t.styleShow=t.elmsAppend=null),Vt(t.curStats,n.captionLabel.stats),Vt(t.aplStats,n.captionLabel.stats),t.color||Lt(o,"cur_line_color",t.updateColor),t.refSocketXY?(Lt(o,"apl_position",t.updateSocketXY),t.offset||(Lt(o,"cur_attach_plugSideLenSE",t.updateSocketXY),Lt(o,"cur_line_strokeWidth",t.updateSocketXY))):Lt(o,"apl_path",t.updatePath),Lt(o,"svgShow",t.updateShow),K&&(Lt(o,"new_edge4viewBox",t.adjustEdge),Dt(o,{}))},removeOption:function(t,e){var n=e.props,o={};o[e.optionName]="",qt(n,o)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){n.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",tt(e.lineOffset)&&(t.lineOffset=e.lineOffset),n.captionLabel.textStyleProps.forEach(function(n){null!=e[n]&&(t[n]=e[n])}),t.updateColor=function(e){n.captionLabel.updateColor(t,e)},t.updatePath=function(e){var o,i=t.curStats,r=t.aplStats,a=e.curStats,s=e.pathList.animVal||e.pathList.baseVal;s&&(i.pathData=o=n.pathLabel.getOffsetPathData(s,a.line_strokeWidth/2+t.strokeWidth/2+t.height/4,1.25*t.height),Mt(o,r.pathData)&&(t.elmPath.setPathData(o),r.pathData=o,t.bBox=t.elmPosition.getBBox(),t.updateStartOffset(e)))},t.updateStartOffset=function(e){var n,o,i,r,a=t.curStats,s=t.aplStats,l=e.curStats;a.pathData&&(2!==t.semIndex||t.lineOffset)&&(n=a.pathData.reduce(function(t,e){var n,o=e.values;switch(e.type){case"M":r={x:o[0],y:o[1]};break;case"L":n={x:o[0],y:o[1]},r&&(t+=bt(r,n)),r=n;break;case"C":n={x:o[4],y:o[5]},r&&(t+=wt(r,{x:o[0],y:o[1]},{x:o[2],y:o[3]},n)),r=n}return t},0),i=0===t.semIndex?0:1===t.semIndex?n:n/2,2!==t.semIndex&&(o=Math.max(l.attach_plugBackLenSE[t.semIndex]||0,l.line_strokeWidth/2)+t.strokeWidth/2+t.height/4,i=(i+=0===t.semIndex?o:-o)<0?0:n<i?n:i),t.lineOffset&&(i=(i+=t.lineOffset)<0?0:n<i?n:i),a.startOffset=i,Bt(t,s,"startOffset",i)&&(t.elmOffset.startOffset.baseVal.value=i))},t.updateShow=function(e){n.captionLabel.updateShow(t,e)},K&&(t.adjustEdge=function(e,o){t.bBox&&n.captionLabel.adjustEdge(o,t.bBox,t.strokeWidth/2)}),!0)},getOffsetPathData:function(t,e,n){var o,i,r=3,a=[];function s(t,e){return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r}return t.forEach(function(t){var n,i,r,l,u,c,p,h,d,f,m,g,v,y,b,_,x,S,w,E,k;2===t.length?(S=t[0],w=t[1],E=e,k=Math.atan2(S.y-w.y,w.x-S.x)+.5*Math.PI,n=[{x:S.x+Math.cos(k)*E,y:S.y+Math.sin(k)*E*-1},{x:w.x+Math.cos(k)*E,y:w.y+Math.sin(k)*E*-1}],o?(r=o.points,0<=(l=Math.atan2(r[1].y-r[0].y,r[0].x-r[1].x)-Math.atan2(t[0].y-t[1].y,t[1].x-t[0].x))&&l<=Math.PI?i={type:"line",points:n,inside:!0}:(c=xt(r[0],r[1],e),u=xt(n[1],n[0],e),h=r[0],f=u,m=n[1],g=(d=c).x-h.x,v=d.y-h.y,y=m.x-f.x,b=m.y-f.y,_=(-v*(h.x-f.x)+g*(h.y-f.y))/(-y*v+g*b),x=(y*(h.y-f.y)-b*(h.x-f.x))/(-y*v+g*b),(p=0<=_&&_<=1&&0<=x&&x<=1?{x:h.x+x*g,y:h.y+x*v}:null)?i={type:"line",points:[r[1]=p,n[1]]}:(r[1]=s(u,c)?u:c,i={type:"line",points:[u,n[1]]}),o.len=bt(r[0],r[1]))):i={type:"line",points:n},i.len=bt(i.points[0],i.points[1]),a.push(o=i)):(a.push({type:"cubic",points:function(t,e,n,o,i,r){for(var a,s,l=wt(t,e,n,o)/16,u=1/(16<i?l*(i/16):l),c=[],p=0;s=(90-(a=St(t,e,n,o,p)).angle)*(Math.PI/180),c.push({x:a.x+Math.cos(s)*i,y:a.y+Math.sin(s)*i*-1}),!(1<=p);)1<(p+=u)&&(p=1);return c}(t[0],t[1],t[2],t[3],e)}),o=null)}),o=null,a.forEach(function(t){var i;"line"===t.type?(t.inside&&(o.len>e?((i=o.points)[1]=xt(i[0],i[1],-e),o.len=bt(i[0],i[1])):(o.points=null,o.len=0),t.len>e+n?((i=t.points)[0]=xt(i[1],i[0],-(e+n)),t.len=bt(i[0],i[1])):(t.points=null,t.len=0)),o=t):o=null}),a.reduce(function(t,e){var n=e.points;return n&&(i&&s(n[0],i)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(e){t.push({type:"L",values:[e.x,e.y]})})),i=n[n.length-1]),t},[])},newText:function(t,e,n,o){var i,r,a,s,u,c,p,h,d,f;return(s=(a=e.createElementNS(U,"defs")).appendChild(e.createElementNS(U,"path"))).id=i=n+"-path",(c=(u=e.createElementNS(U,"text")).appendChild(e.createElementNS(U,"textPath"))).href.baseVal="#"+i,c.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),c.textContent=t,"boolean"!=typeof l&&(l="paintOrder"in u.style),o&&!l?(u.id=r=n+"-text",a.appendChild(u),(d=(p=e.createElementNS(U,"g")).appendChild(e.createElementNS(U,"use"))).href.baseVal="#"+r,(h=p.appendChild(e.createElementNS(U,"use"))).href.baseVal="#"+r,(f=d.style).strokeLinejoin="round",{elmPosition:u,elmPath:s,elmOffset:c,styleText:u.style,styleFill:h.style,styleStroke:f,styleShow:p.style,elmsAppend:[a,p]}):(f=u.style,o&&(f.strokeLinejoin="round",f.paintOrder="stroke"),{elmPosition:u,elmPath:s,elmOffset:c,styleText:f,styleFill:f,styleStroke:o?f:null,styleShow:f,elmsAppend:[a,u]})},initSvg:function(t,e){var o,i,r=n.pathLabel.newText(t.text,e.baseWindow.document,d+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=r[e]}),t.isShown=!1,t.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(r.styleText[e]=t[e])}),r.elmsAppend.forEach(function(t){e.svg.appendChild(t)}),r.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),o=r.elmPosition.getBBox(),r.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||r.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=o.height,t.outlineColor&&(i=10<(i=o.height/9)?10:i<2?2:i,r.styleStroke.strokeWidth=i+"px",r.styleStroke.stroke=t.outlineColor),t.strokeWidth=i||0,Vt(t.aplStats,n.pathLabel.stats),t.updateColor(e),t.updatePath(e),t.updateStartOffset(e),K&&Dt(e,{}),t.updateShow(e)},bind:function(t,e){var o=e.props;return t.color||Ct(o,"cur_line_color",t.updateColor),Ct(o,"cur_line_strokeWidth",t.updatePath),Ct(o,"apl_path",t.updatePath),t.semIndex="startLabel"===e.optionName?0:"endLabel"===e.optionName?1:2,(2!==t.semIndex||t.lineOffset)&&Ct(o,"cur_attach_plugBackLenSE",t.updateStartOffset),Ct(o,"svgShow",t.updateShow),K&&Ct(o,"new_edge4viewBox",t.adjustEdge),n.pathLabel.initSvg(t,o),!0},unbind:function(t,e){var o=e.props;t.elmsAppend&&(t.elmsAppend.forEach(function(t){o.svg.removeChild(t)}),t.elmPosition=t.elmPath=t.elmOffset=t.styleFill=t.styleShow=t.elmsAppend=null),Vt(t.curStats,n.pathLabel.stats),Vt(t.aplStats,n.pathLabel.stats),t.color||Lt(o,"cur_line_color",t.updateColor),Lt(o,"cur_line_strokeWidth",t.updatePath),Lt(o,"apl_path",t.updatePath),(2!==t.semIndex||t.lineOffset)&&Lt(o,"cur_attach_plugBackLenSE",t.updateStartOffset),Lt(o,"svgShow",t.updateShow),K&&(Lt(o,"new_edge4viewBox",t.adjustEdge),Dt(o,{}))},removeOption:function(t,e){var n=e.props,o={};o[e.optionName]="",qt(n,o)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){n.pathLabel.unbind(t,e)}))}}},Object.keys(n).forEach(function(t){Yt[t]=function(){return new o(n[t],Array.prototype.slice.call(arguments))}}),Yt.positionByWindowResize=!0,window.addEventListener("resize",ot.add(function(){Yt.positionByWindowResize&&Object.keys(lt).forEach(function(t){Dt(lt[t],{position:!0})})}),!1),Yt}(),B="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var W,z=(function(t){(function(){var e,n,o,i,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-r)/1e6},n=process.hrtime,i=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),a=1e9*process.uptime(),r=i-a):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(B)}(W={exports:{}},W.exports),W.exports),F="undefined"==typeof window?B:window,j=["moz","webkit"],D="AnimationFrame",R=F["request"+D],G=F["cancel"+D]||F["cancelRequest"+D],H=0;!R&&H<j.length;H++)R=F[j[H]+"Request"+D],G=F[j[H]+"Cancel"+D]||F[j[H]+"CancelRequest"+D];if(!R||!G){var U=0,q=0,Y=[];R=function(t){if(0===Y.length){var e=z(),n=Math.max(0,1e3/60-(e-U));U=n+e,setTimeout(function(){var t=Y.slice(0);Y.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(U)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return Y.push({handle:++q,callback:t,cancelled:!1}),q},G=function(t){for(var e=0;e<Y.length;e++)Y[e].handle===t&&(Y[e].cancelled=!0)}}var Z=function(t){return R.call(F,t)};Z.cancel=function(){G.apply(F,arguments)},Z.polyfill=function(t){t||(t=F),t.requestAnimationFrame=R,t.cancelAnimationFrame=G};var X={redraw:function(){var t=this;this.line&&this.line.remove(),Z(function(){t.leaderLine(t.get().from,t.get().to)})},leaderLine:function(t,e){if(t&&e){if(this.line)try{this.line.remove()}catch(t){}var n={};this.line=new V(V.areaAnchor(t,n),V.areaAnchor(e,n),{color:"#fff",endPlugColor:"#fff",startPlugColor:"#fff"}),this.line.path="fluid",this.line.position();var o=document.querySelectorAll(".leader-line-line-path");Array.prototype.forEach.call(o,function(t){t.setAttribute("filter","url(#coachmark-chalk)")})}}};function K(){this.line&&this.line.remove()}function Q(t){t.current;this.redraw()}function $(t){var i,s=this;C(this,t),this._state=n({line:null,from:null,to:null},t.data),this._intro=!!t.intro,this._handlers.state=[Q],this._handlers.destroy=[K],document.getElementById("svelte-1fgyaiq-style")||((i=h("style")).id="svelte-1fgyaiq-style",i.textContent=".leader-line{z-index:1002}",a(document.head,i)),Q.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(t,n){function o(e){t.redraw()}function i(e){t.redraw()}function a(e){t.position()}return window.addEventListener("resize",o),window.addEventListener("scroll",i),window.addEventListener("orientationchange",a),{c:e,m:e,p:e,i:e,o:r,d:function(t){window.removeEventListener("resize",o),window.removeEventListener("scroll",i),window.removeEventListener("orientationchange",a)}}}(this,this._state),this.root._oncreate.push(function(){s.fire("update",{changed:o({},s._state),current:s._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n($.prototype,A),n($.prototype,X);var J=function(t){return!(!t||"object"!=typeof t)&&("object"==typeof window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)};var tt={redraw:function(){var t=this.get().target;if(t&&J(t)){var e=t.getBoundingClientRect(),n=e.top,o=e.left,i=e.width,r=e.height,a=o+i,s=n+r;this.refs.top.style.height=n+"px",this.refs.left.style.top=n+"px",this.refs.right.style.top=this.refs.left.style.top,this.refs.left.style.height=r+"px",this.refs.right.style.height=this.refs.left.style.height,this.refs.left.style.width=o+"px",this.refs.right.style.left=a+"px",this.refs.bottom.style.top=s+"px";var l=window.getComputedStyle(t).getPropertyValue("border-radius"),u=this.refs.glow;u.style.top=n+"px",u.style.left=o+"px",u.style.width=i+"px",u.style.height=r+"px",u.style["border-radius"]=l,u.style["box-shadow"]="0 0 20px 10px #fff"}else this.set({shown:!1})},methods:{show:function(){this.set({shown:!0})},hide:function(){this.set({shown:!1})}}};function et(t){var e=this;t.changed,t.current,t.previous;Z(function(){e.redraw()})}function nt(t){var e,i=this;C(this,t),this.refs={},this._state=n({shown:!1},t.data),this._intro=!!t.intro,this._handlers.state=[et],document.getElementById("svelte-101ppji-style")||((e=h("style")).id="svelte-101ppji-style",e.textContent=".onboardist-button.svelte-101ppji{border-radius:8px;border:1px solid #0571f3;background-color:white;color:#0571f3;font-size:0.8em;padding:0.5em 1em;margin:0.5em;text-transform:uppercase;outline:none;cursor:pointer}.onboardist-button.svelte-101ppji:hover{background-color:#62A8FC;border-color:#62A8FC;color:white;box-shadow:inset 0px 0px 5px rgba(0, 0, 0, 0.2)}.overlay.svelte-101ppji{display:none}.overlay.shown.svelte-101ppji{display:block}.top.svelte-101ppji,.left.svelte-101ppji,.right.svelte-101ppji,.bottom.svelte-101ppji{position:fixed;background:#000;opacity:0.66;margin:0;padding:0;z-index:1000}.top.svelte-101ppji{top:0;left:0;right:0;width:100%}.left.svelte-101ppji{left:0}.right.svelte-101ppji{right:0}.bottom.svelte-101ppji{bottom:0;left:0;right:0;width:100%}.glow.svelte-101ppji{position:fixed;z-index:1000}",a(document.head,e)),et.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,i,a,u,c,p,d,m,g,v,y,b,_,x;function S(e){t.redraw()}function w(e){t.redraw()}function E(e){t.redraw()}return window.addEventListener("resize",S),window.addEventListener("scroll",w),window.addEventListener("orientationchange",E),{c:function(){n=h("div"),i=f("\n"),a=h("div"),c=f("\n"),p=h("div"),m=f("\n"),g=h("div"),y=f("\n"),b=h("div"),n.className=o="top "+(e.shown?"shown":"")+" svelte-101ppji",a.className=u="right "+(e.shown?"shown":"")+" svelte-101ppji",p.className=d="bottom "+(e.shown?"shown":"")+" svelte-101ppji",g.className=v="left "+(e.shown?"shown":"")+" svelte-101ppji",b.className=_="glow "+(e.shown?"shown":"")+" svelte-101ppji"},m:function(e,o){s(e,n,o),t.refs.top=n,s(e,i,o),s(e,a,o),t.refs.right=a,s(e,c,o),s(e,p,o),t.refs.bottom=p,s(e,m,o),s(e,g,o),t.refs.left=g,s(e,y,o),s(e,b,o),t.refs.glow=b,x=!0},p:function(t,e){t.shown&&o!==(o="top "+(e.shown?"shown":"")+" svelte-101ppji")&&(n.className=o),t.shown&&u!==(u="right "+(e.shown?"shown":"")+" svelte-101ppji")&&(a.className=u),t.shown&&d!==(d="bottom "+(e.shown?"shown":"")+" svelte-101ppji")&&(p.className=d),t.shown&&v!==(v="left "+(e.shown?"shown":"")+" svelte-101ppji")&&(g.className=v),t.shown&&_!==(_="glow "+(e.shown?"shown":"")+" svelte-101ppji")&&(b.className=_)},i:function(t,e){x||this.m(t,e)},o:r,d:function(e){window.removeEventListener("resize",S),window.removeEventListener("scroll",w),window.removeEventListener("orientationchange",E),e&&l(n),t.refs.top===n&&(t.refs.top=null),e&&(l(i),l(a)),t.refs.right===a&&(t.refs.right=null),e&&(l(c),l(p)),t.refs.bottom===p&&(t.refs.bottom=null),e&&(l(m),l(g)),t.refs.left===g&&(t.refs.left=null),e&&(l(y),l(b)),t.refs.glow===b&&(t.refs.glow=null)}}}(this,this._state),this.root._oncreate.push(function(){i.fire("update",{changed:o({},i._state),current:i._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(nt.prototype,A),n(nt.prototype,tt);var ot={position:function(){var t,e,n,o,i,r=(t=this.get().target,e=function(){var t,e,n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(n>o){var i=Math.floor(n/2);t={top:0,left:0,height:o,width:i},e={top:0,left:i,height:o,width:n-i}}else{var r=Math.floor(o/2);t={top:0,left:0,height:r,width:n},e={top:r,left:0,height:o-r,width:n}}return[t,e]}(),n=e[0],o=e[1],i=function(t){var e=t;t instanceof Node&&(e=function(t,e){!0===e&&(e=t.offsetParent);var n=t.getBoundingClientRect(),o=e?e.getBoundingClientRect():{left:0,top:0};return{left:n.left-o.left,top:n.top-o.top,width:n.width,height:n.height}}(t,!1));return[e.left+e.width/2,e.top+e.height/2]}(t),function(t,e){var n=t.x,o=t.y,i=e.left,r=e.top,a=e.width,s=e.height;return i<=n&&n<=i+a&&r<=o&&o<=r+s}({x:Math.floor(i[0]),y:Math.floor(i[1])},n)?o:n);this.refs.container.style.top=r.top+"px",this.refs.container.style.left=r.left+"px",this.refs.container.style.width=r.width+"px",this.refs.container.style.height=r.height+"px";var a=Math.min(document.body.offsetHeight,document.body.offsetWidth),s=Math.max(6,-163847e-10*Math.pow(a,2)+.0102378*a+7.47434);this.set({textSize:s})}};function it(t){var e=this,n=t.changed,o=t.current;n.target&&J(o.target)&&Z(function(){e.position()})}function rt(t){var e,i=this;C(this,t),this.refs={},this._state=n({id:null,text:"",target:null,textSize:11},t.data),this._intro=!!t.intro,this._handlers.state=[it],document.getElementById("svelte-rx5ich-style")||((e=h("style")).id="svelte-rx5ich-style",e.textContent=".text-container.svelte-rx5ich{position:fixed;display:flex;box-sizing:border-box;justify-content:center;align-items:center;padding:5vmin;z-index:1001}.text.svelte-rx5ich{font-family:'Short Stack', cursive;color:#fefefe;text-shadow:2px 2px #333;word-break:break-word;hyphens:auto}",a(document.head,e)),it.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,i,u;function c(e){t.position()}function p(e){t.position()}function d(e){t.position()}return window.addEventListener("resize",c),window.addEventListener("scroll",p),window.addEventListener("orientationchange",d),{c:function(){n=h("div"),o=h("div"),i=f(e.text),o.className="text svelte-rx5ich",_(o,"font-size",e.textSize+"vmin"),_(o,"line-height",e.textSize+"vmin"),n.className="text-container svelte-rx5ich",n.id=e.id},m:function(e,r){s(e,n,r),a(n,o),a(o,i),t.refs.text=o,t.refs.container=n,u=!0},p:function(t,e){t.text&&b(i,e.text),t.textSize&&(_(o,"font-size",e.textSize+"vmin"),_(o,"line-height",e.textSize+"vmin")),t.id&&(n.id=e.id)},i:function(t,e){u||this.m(t,e)},o:r,d:function(e){window.removeEventListener("resize",c),window.removeEventListener("scroll",p),window.removeEventListener("orientationchange",d),e&&l(n),t.refs.text===o&&(t.refs.text=null),t.refs.container===n&&(t.refs.container=null)}}}(this,this._state),this.root._oncreate.push(function(){i.fire("update",{changed:o({},i._state),current:i._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(rt.prototype,A),n(rt.prototype,ot);var at=!1;for(var st='  <defs>\n    <filter id="coachmark-chalk" x="0" y="0" height="5000px" width="5000px" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n      <feTurbulence baseFrequency="0.133" seed="500" result="result1" numOctaves="1" type="turbulence"/>\n      <feOffset result="result2" dx="0" dy="0"/>\n      <feDisplacementMap scale="5" yChannelSelector="G" in2="result1" xChannelSelector="R" in="SourceGraphic"/>\n      <feGaussianBlur stdDeviation="0.5"/>\n    </filter>\n    <filter id="coachmark-chalk-rough" filterUnits="userSpaceOnUse" x="0" y="0" height="5000px" width="5000px">\n      <feTurbulence baseFrequency="0.2" numOctaves="3" type="fractalNoise" />\n      <feDisplacementMap  scale="8"  xChannelSelector="R" in="SourceGraphic" />\n    </filter>\n    <marker id="arrow" class="coachmark-line" markerWidth="500" markerHeight="800" refX="9.5" refY="4.5" orient="auto" overflow="visible" markerUnits="userSpaceOnUse">\n      \x3c!--<path d="M0,0 L0,6 L9,3 z" stroke="#fff" fill="#fff" />--\x3e\n      \x3c!--<polyline points="-2,-2 0,0 -2,2" stroke="#fff" fill="none" vector-effect="non-scaling-stroke" />--\x3e\n\n      \x3c!-- <polyline points="1 1, 9 5, 1 7" fill="none" /> --\x3e\n      <polyline points="1 1.5, 10 4.5, 2 7" fill="none" stroke-linecap="round" />\n    </marker>\n\n    <marker id="arrowhead0" viewBox="0 0 60 60" refX="50" refY="30" markerUnits="strokeWidth" markerWidth="8" markerHeight="10" orient="auto" overflow="visible">\n      <path d="M 0 0 L 60 30 L 0 60" fill="none" class="coachmark-marker" />\n    </marker>\n\n    \x3c!-- NOTE: arrowhead is not being used --\x3e\n    \x3c!-- <marker id="arrowhead" viewBox="0 0 10 10" refX="3" refY="5" markerWidth="6" markerHeight="6" orient="auto">\n      <path d="M 0 0 L 10 5 L 0 10 z" />\n    </marker> --\x3e\n\n    <filter id="coachmark-drop-shadow" x="0" y="0" height="5000px" width="5000px">\n       <feOffset result="offOut" in="SourceAlpha" dx="0" dy="5" />\n       <feGaussianBlur result="blurOut" in="offOut" stdDeviation="3" />\n       <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n    </filter>\n\n    <filter id="test-filter">\n      <feMorphology operator="dilate" radius="4" in="SourceAlpha" result="BEVEL_10" />\n      <feConvolveMatrix order="3,3" kernelMatrix=\n   "1 0 0\n   0 1 0\n   0 0 1" in="BEVEL_10" result="BEVEL_20" />\n      <feOffset dx="10" dy="10" in="BEVEL_20" result="BEVEL_30"/>\n      <feComposite operator="out" in="BEVEL_20" in2="BEVEL_10" result="BEVEL_30"/>\n      <feFlood flood-color="#fff" result="COLOR-red" />\n      <feComposite in="COLOR-red" in2="BEVEL_30" operator="in" result="BEVEL_40" />\n\n      <feMerge result="BEVEL_50">\n         <feMergeNode in="BEVEL_40" />\n         <feMergeNode in="SourceGraphic" />\n      </feMerge>\n    </filter>\n\n    <path id="right-arrow" d="M 345.23509 500.5 L 594.16634 251.00371 L 344.26968 1.468574 L 205.81581 1.525764 L 397.12537 194.51019 L 0.49999607 194.58168 L 0.62293607 305.57099 L 399.73581 305.59147 L 206.36939 500.5 L 345.23509 500.5 z "/>\n\n    <filter id="multi-stroke" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feTurbulence type="fractalNoise" baseFrequency="0.03 0.03" numOctaves="1" seed="8" stitchTiles="noStitch" x="0%" y="0%" width="100%" height="100%" result="turbulence3"/>\n      <feDisplacementMap in="SourceGraphic" in2="turbulence3" scale="015" xChannelSelector="A" yChannelSelector="A" result="displacementMap"/>\n      <feDisplacementMap in="SourceGraphic" in2="turbulence3" scale="-15" xChannelSelector="A" yChannelSelector="A" x="0%" y="0%" width="100%" height="100%" result="displacementMap1"/>\n      <feMerge x="0%" y="0%" width="100%" height="100%" result="merge">\n            <feMergeNode in="displacementMap"/>\n        <feMergeNode in="displacementMap1"/>\n        <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n    </filter>\n  </defs>\n',lt="undefined"!=typeof window&&"undefined"!=typeof document,ut=["Edge","Trident","Firefox"],ct=0,pt=0;pt<ut.length;pt+=1)if(lt&&navigator.userAgent.indexOf(ut[pt])>=0){ct=1;break}var ht=lt&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},ct))}};function dt(t){return t&&"[object Function]"==={}.toString.call(t)}function ft(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function mt(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function gt(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=ft(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?t:gt(mt(t))}var vt=lt&&!(!window.MSInputMethodContext||!document.documentMode),yt=lt&&/MSIE 10/.test(navigator.userAgent);function bt(t){return 11===t?vt:10===t?yt:vt||yt}function _t(t){if(!t)return document.documentElement;for(var e=bt(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ft(n,"position")?_t(n):n:t?t.ownerDocument.documentElement:document.documentElement}function xt(t){return null!==t.parentNode?xt(t.parentNode):t}function St(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?t:e,i=n?e:t,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||o.contains(i))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&_t(a.firstElementChild)!==a?_t(l):l;var u=xt(t);return u.host?St(u.host,e):St(t,xt(e).host)}function wt(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[e]}return t[e]}function Et(t,e){var n="x"===e?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+o+"Width"],10)}function kt(t,e,n,o){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],bt(10)?parseInt(n["offset"+t])+parseInt(o["margin"+("Height"===t?"Top":"Left")])+parseInt(o["margin"+("Height"===t?"Bottom":"Right")]):0)}function Ot(t){var e=t.body,n=t.documentElement,o=bt(10)&&getComputedStyle(n);return{height:kt("Height",e,n,o),width:kt("Width",e,n,o)}}var Mt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),Lt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},It=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var o=e[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t};function At(t){return It({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Nt(t){var e={};try{if(bt(10)){e=t.getBoundingClientRect();var n=wt(t,"top"),o=wt(t,"left");e.top+=n,e.left+=o,e.bottom+=n,e.right+=o}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?Ot(t.ownerDocument):{},a=r.width||t.clientWidth||i.right-i.left,s=r.height||t.clientHeight||i.bottom-i.top,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var c=ft(t);l-=Et(c,"x"),u-=Et(c,"y"),i.width-=l,i.height-=u}return At(i)}function Tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=bt(10),i="HTML"===e.nodeName,r=Nt(t),a=Nt(e),s=gt(t),l=ft(e),u=parseFloat(l.borderTopWidth,10),c=parseFloat(l.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=At({top:r.top-a.top-u,left:r.left-a.left-c,width:r.width,height:r.height});if(p.marginTop=0,p.marginLeft=0,!o&&i){var h=parseFloat(l.marginTop,10),d=parseFloat(l.marginLeft,10);p.top-=u-h,p.bottom-=u-h,p.left-=c-d,p.right-=c-d,p.marginTop=h,p.marginLeft=d}return(o&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=wt(e,"top"),i=wt(e,"left"),r=n?-1:1;return t.top+=o*r,t.bottom+=o*r,t.left+=i*r,t.right+=i*r,t}(p,e)),p}function Pt(t){if(!t||!t.parentElement||bt())return document.documentElement;for(var e=t.parentElement;e&&"none"===ft(e,"transform");)e=e.parentElement;return e||document.documentElement}function Vt(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=i?Pt(t):St(t,e);if("viewport"===o)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,o=Tt(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:wt(n),s=e?0:wt(n,"left");return At({top:a-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:i,height:r})}(a,i);else{var s=void 0;"scrollParent"===o?"BODY"===(s=gt(mt(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===o?t.ownerDocument.documentElement:o;var l=Tt(s,a,i);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===ft(e,"position"))return!0;var o=mt(e);return!!o&&t(o)}(a))r=l;else{var u=Ot(t.ownerDocument),c=u.height,p=u.width;r.top+=l.top-l.marginTop,r.bottom=c+l.top,r.left+=l.left-l.marginLeft,r.right=p+l.left}}var h="number"==typeof(n=n||0);return r.left+=h?n:n.left||0,r.top+=h?n:n.top||0,r.right-=h?n:n.right||0,r.bottom-=h?n:n.bottom||0,r}function Bt(t,e,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=Vt(n,o,r,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return It({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,o=t.height;return e>=n.clientWidth&&o>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,p=t.split("-")[1];return c+(p?"-"+p:"")}function Wt(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Tt(n,o?Pt(e):St(e,n),o)}function zt(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),o=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function Ft(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function jt(t,e,n){n=n.split("-")[0];var o=zt(t),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",u=r?"width":"height";return i[a]=e[a]+e[l]/2-o[l]/2,i[s]=n===s?e[s]-o[u]:e[Ft(s)],i}function Dt(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Rt(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var o=Dt(t,function(t){return t[e]===n});return t.indexOf(o)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&dt(n)&&(e.offsets.popper=At(e.offsets.popper),e.offsets.reference=At(e.offsets.reference),e=n(e,t))}),e}function Gt(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function Ht(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length;o++){var i=e[o],r=i?""+i+n:t;if(void 0!==document.body.style[r])return r}return null}function Ut(t){var e=t.ownerDocument;return e?e.defaultView:window}function qt(t,e,n,o){n.updateBound=o,Ut(t).addEventListener("resize",n.updateBound,{passive:!0});var i=gt(t);return function t(e,n,o,i){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(n,o,{passive:!0}),r||t(gt(a.parentNode),n,o,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Yt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Ut(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Zt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Xt(t,e){Object.keys(e).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Zt(e[n])&&(o="px"),t.style[n]=e[n]+o})}var Kt=lt&&/Firefox/i.test(navigator.userAgent);function Qt(t,e,n){var o=Dt(t,function(t){return t.name===e}),i=!!o&&t.some(function(t){return t.name===n&&t.enabled&&t.order<o.order});if(!i){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var $t=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Jt=$t.slice(3);function te(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jt.indexOf(t),o=Jt.slice(n+1).concat(Jt.slice(0,n));return e?o.reverse():o}var ee={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ne(t,e,n,o){var i=[0,0],r=-1!==["right","left"].indexOf(o),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(Dt(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map(function(t,o){var i=(1===o?!r:r)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,o){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],a=i[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=o}return At(s)[e]/100*r}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,i,e,n)})})).forEach(function(t,e){t.forEach(function(n,o){Zt(n)&&(i[e]+=n*("-"===t[o-1]?-1:1))})}),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var i=t.offsets,r=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:Lt({},l,r[l]),end:Lt({},l,r[l]+r[u]-a[u])};t.offsets.popper=It({},a,c[o])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,o=t.placement,i=t.offsets,r=i.popper,a=i.reference,s=o.split("-")[0],l=void 0;return l=Zt(+n)?[+n,0]:ne(n,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||_t(t.instance.popper);t.instance.reference===n&&(n=_t(n));var o=Ht("transform"),i=t.instance.popper.style,r=i.top,a=i.left,s=i[o];i.top="",i.left="",i[o]="";var l=Vt(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=r,i.left=a,i[o]=s,e.boundaries=l;var u=e.priority,c=t.offsets.popper,p={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),Lt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",o=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(o=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),Lt({},n,o)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=It({},c,p[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,o=e.reference,i=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<r(o[l])&&(t.offsets.popper[l]=r(o[l])-n[u]),n[l]>r(o[s])&&(t.offsets.popper[l]=r(o[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Qt(t.instance.modifiers,"arrow","keepTogether"))return t;var o=e.element;if("string"==typeof o){if(!(o=t.instance.popper.querySelector(o)))return t}else if(!t.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=t.offsets,a=r.popper,s=r.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",p=c.toLowerCase(),h=l?"left":"top",d=l?"bottom":"right",f=zt(o)[u];s[d]-f<a[p]&&(t.offsets.popper[p]-=a[p]-(s[d]-f)),s[p]+f>a[d]&&(t.offsets.popper[p]+=s[p]+f-a[d]),t.offsets.popper=At(t.offsets.popper);var m=s[p]+s[u]/2-f/2,g=ft(t.instance.popper),v=parseFloat(g["margin"+c],10),y=parseFloat(g["border"+c+"Width"],10),b=m-t.offsets.popper[p]-v-y;return b=Math.max(Math.min(a[u]-f,b),0),t.arrowElement=o,t.offsets.arrow=(Lt(n={},p,Math.round(b)),Lt(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Gt(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=Vt(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),o=t.placement.split("-")[0],i=Ft(o),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case ee.FLIP:a=[o,i];break;case ee.CLOCKWISE:a=te(o);break;case ee.COUNTERCLOCKWISE:a=te(o,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(o!==s||a.length===l+1)return t;o=t.placement.split("-")[0],i=Ft(o);var u=t.offsets.popper,c=t.offsets.reference,p=Math.floor,h="left"===o&&p(u.right)>p(c.left)||"right"===o&&p(u.left)<p(c.right)||"top"===o&&p(u.bottom)>p(c.top)||"bottom"===o&&p(u.top)<p(c.bottom),d=p(u.left)<p(n.left),f=p(u.right)>p(n.right),m=p(u.top)<p(n.top),g=p(u.bottom)>p(n.bottom),v="left"===o&&d||"right"===o&&f||"top"===o&&m||"bottom"===o&&g,y=-1!==["top","bottom"].indexOf(o),b=!!e.flipVariations&&(y&&"start"===r&&d||y&&"end"===r&&f||!y&&"start"===r&&m||!y&&"end"===r&&g);(h||v||b)&&(t.flipped=!0,(h||v)&&(o=a[l+1]),b&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=o+(r?"-"+r:""),t.offsets.popper=It({},t.offsets.popper,jt(t.instance.popper,t.offsets.reference,t.placement)),t=Rt(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],o=t.offsets,i=o.popper,r=o.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=r[n]-(s?i[a?"width":"height"]:0),t.placement=Ft(e),t.offsets.popper=At(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Qt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Dt(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,o=e.y,i=t.offsets.popper,r=Dt(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:e.gpuAcceleration,s=_t(t.instance.popper),l=Nt(s),u={position:i.position},c=function(t,e){var n=t.offsets,o=n.popper,i=n.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(i.width),u=r(o.width),c=-1!==["left","right"].indexOf(t.placement),p=-1!==t.placement.indexOf("-"),h=e?c||p||l%2==u%2?r:a:s,d=e?r:s;return{left:h(l%2==1&&u%2==1&&!p&&e?o.left-1:o.left),top:d(o.top),bottom:d(o.bottom),right:h(o.right)}}(t,window.devicePixelRatio<2||!Kt),p="bottom"===n?"top":"bottom",h="right"===o?"left":"right",d=Ht("transform"),f=void 0,m=void 0;if(m="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,f="right"===h?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&d)u[d]="translate3d("+f+"px, "+m+"px, 0)",u[p]=0,u[h]=0,u.willChange="transform";else{var g="bottom"===p?-1:1,v="right"===h?-1:1;u[p]=m*g,u[h]=f*v,u.willChange=p+", "+h}var y={"x-placement":t.placement};return t.attributes=It({},y,t.attributes),t.styles=It({},u,t.styles),t.arrowStyles=It({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Xt(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&Xt(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,o,i){var r=Wt(i,e,t,n.positionFixed),a=Bt(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Xt(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ie=function(){function t(e,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ht(this.update.bind(this)),this.options=It({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(It({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){o.options.modifiers[e]=It({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return It({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&dt(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Ct(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Wt(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Bt(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=jt(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Rt(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Gt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ht("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=qt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return Yt.call(this)}}]),t}();function re(t,e){var n=t.type,o=t.target,i=t.addedNodes;if("attributes"===n&&o.matches(e))return o;if("childList"===n){for(var r=0,a=i;r<a.length;r+=1){var s=a[r];if("function"==typeof s.matches&&s.matches(e))return s}return o.querySelector(e)}return null}function ae(t,e){void 0===e&&(e={});var n=e.timeout;void 0===n&&(n=2500);var o=e.scope;return void 0===o&&(o=document),new Promise(function(e,i){var r=o.querySelector(t),a=null;if(null===r){var s=new MutationObserver(function(n){for(var o=0,i=n;o<i.length;o+=1){var r=re(i[o],t);if(null!==r){clearTimeout(a),s.disconnect(),e(r);break}}});s.observe(o,{attributes:!0,subtree:!0,childList:!0}),a=setTimeout(function(){s.disconnect(),i(new Error("No element matches the selector "+t+"."))},n)}else e(r)})}ie.Utils=("undefined"!=typeof window?window:global).PopperUtils,ie.placements=$t,ie.Defaults=oe;var se=ae,le={};var ue={on:function(t,e){le[t]=le[t]||[];var n=le[t];return n.push(e),function(){var o=n.indexOf(e);-1!==o&&n.splice(o,1),0===n.length&&delete le[t]}},fire:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(t in le)for(var o=0,i=le[t];o<i.length;o+=1)i[o].apply(void 0,e)},reset:function(){for(var t=0,e=Object.keys(le);t<e.length;t+=1){var n=e[t];delete le[n]}}};function ce(){return Math.random().toString(36).substr(2)}function pe(){this.destroy()}function he(t,e){if("function"==typeof t)return t;var n=t.split(/\./),o=n[0];void 0===o&&(o="");var i=n[1];void 0===i&&(i="");var r=an.component(o),a=an.tour(o);if(r){var s=r.component,l=r.args;i&&"show"!==i?"hide"===i&&(t=function(){r.instance&&r.instance.close()}):t=function(){an.component(l.name).instance||new s(l)}}else if(a);else if("close"===t)t=function(){e.instance&&e.instance.close()};else if("next"===t)t=function(){return an.activeTour().next()};else{if("show"!==t)throw new Error("Unknown event handler "+t);t=function(){if(e){var t=e.component,n=e.args;if(an.component(n.name).instance)return;t&&new t(n)}}}return t}function de(t,e){var n=this;void 0===t&&(t={});for(var o=0,i=Object.entries(t);o<i.length;o+=1)for(var r=function(){var t=c[u];t=t.trim();var o=he.call(n,l,e);if(["click","mouseover","mouseout","contextmenu","dblclick"].includes(t)){if(!n||!n.refs)return{};n.refs.el.addEventListener(t,o),n.on("destroy",function(){return n.refs.el.removeEventListener(t,o)})}else{var i=ue.on(t,o);n&&n.on("destroy",i)}},a=i[o],s=a[0],l=a[1],u=0,c=[].concat(s);u<c.length;u+=1){var p=r();if(p)return p.v}}function fe(){this.get().name||this.set({name:ce()}),this.options.attach&&function(){var t=this,e=function(e){t.refs&&t.refs.el&&(t.popper=new ie(e,t.refs.el,Object.assign({},t.options)),t.on("destroy",function(){t.popper.destroy()}))},n=this.options.attach,o=an.component(n);o&&o.instance&&(n=o.instance.refs.el),J(n)?(this.set({attach:n}),e(n)):se(n).then(function(n){t.set({attach:n}),e(n)})}.call(this);var t=this.get().name,e=Object.assign({},this.options);if(delete e.data,!an.component(t)){var n={component:e.component,name:t,args:e,instance:this};an.registerComponent(n),this.options.events&&de.call(this,this.options.events,n)}an.registerInstance({name:this.get().name,instance:this})}function me(){an.deregisterInstance(this.get().name)}function ge(t){return t?t.map(function(t){if("string"!=typeof t)return t;switch(t.toLowerCase()){case"ok":return{type:"close",text:"OK",handler:function(){this.close()}};default:return t}}):t}var ve={call:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t.call.apply(t,[this].concat(e))},close:pe,keypress:function(t){"Escape"===t.key&&this.close()}};function ye(){return function(t){if(!at){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("width",0),e.setAttribute("height",0),e.innerHTML=t,document.body.insertBefore(e,document.body.firstChild),at=!0}}(st),fe.call(this)}function be(t){t.changed;var e=t.current;!t.previous&&this.get().buttons&&this.set({buttons:ge(this.get().buttons)}),e.attach&&this.set({target:e.attach}),this.refs&&this.refs.text&&this.set({textElement:this.refs.text.refs.text})}function _e(t,e,n){var o=Object.create(t);return o.button=e[n],o}function xe(t,n){var o,i;return{c:function(){o=f("")},m:function(t,e){s(t,o,e),i=!0},p:e,i:function(t,e){i||this.m(t,e)},o:r,d:function(t){t&&l(o)}}}function Se(t,e){for(var n,o,r=e.buttons,a=[],u=0;u<r.length;u+=1)a[u]=Ee(t,_e(e,r,u));function p(t,e,n){a[t]&&a[t].o(function(){e&&(a[t].d(e),a[t]=null),n&&n()})}return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=m()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].i(t,e);s(t,n,e),o=!0},p:function(e,o){if(e.buttons){r=o.buttons;for(var i=0;i<r.length;i+=1){var s=_e(o,r,i);a[i]?a[i].p(e,s):(a[i]=Ee(t,s),a[i].c()),a[i].i(n.parentNode,n)}for(;i<a.length;i+=1)p(i,1)}},i:function(t,e){o||this.m(t,e)},o:function(t){if(o){for(var e=i(t,(a=a.filter(Boolean)).length),n=0;n<a.length;n+=1)p(n,0,e);o=!1}},d:function(t){c(a,t),t&&l(n)}}}function we(t,e){var n,o={type:e.button.type},i=new P({root:t.root,store:t.store,data:o});return i.on("click",function(n){t.call(e.button.handler)}),{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e),n=!0},p:function(t,n){e=n;var o={};t.buttons&&(o.type=e.button.type),i._set(o)},i:function(t,e){n||this.m(t,e)},o:function(t){n&&(i&&i._fragment.o(t),n=!1)},d:function(t){i.destroy(t)}}}function Ee(t,e){var n,o,i="object"==typeof e.button&&we(t,e);return{c:function(){i&&i.c(),n=m()},m:function(t,e){i&&i.m(t,e),s(t,n,e),o=!0},p:function(e,o){"object"==typeof o.button?(i?i.p(e,o):(i=we(t,o))&&i.c(),i.i(n.parentNode,n)):i&&i.o(function(){i.d(1),i=null})},i:function(t,e){o||this.m(t,e)},o:function(t){o&&(i?i.o(t):t(),o=!1)},d:function(t){i&&i.d(t),t&&l(n)}}}function ke(t){var e=this;C(this,t),this.refs={},this._state=n({buttons:["ok"],target:null,textElement:null,textId:ce()},t.data),this._intro=!!t.intro,this._handlers.state=[be],this._handlers.destroy=[me],be.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(t,e){var n,o,r,u,c,p,d,m;function g(e){t.keypress(e)}window.addEventListener("keydown",g);var v={target:e.target},b=new nt({root:t.root,store:t.store,data:v}),_=[Se,xe],x=[];function S(t){return t.buttons?0:1}r=S(e),u=x[r]=_[r](t,e);var w={id:e.textId,text:e.content,target:e.target},E=new rt({root:t.root,store:t.store,data:w});t.refs.text=E;var k={from:e.textElement,to:e.target},O=new $({root:t.root,store:t.store,data:k});return{c:function(){b._fragment.c(),n=f("\n"),o=h("div"),u.c(),c=f("\n  "),E._fragment.c(),p=f("\n  "),O._fragment.c(),o.className="onboardist-coachmark",y(o,"role","alertdialog"),y(o,"aria-modal","true"),y(o,"aria-label",d=e.title||e.content),y(o,"aria-describedby",e.textId)},m:function(t,e){b._mount(t,e),s(t,n,e),s(t,o,e),x[r].m(o,null),a(o,c),E._mount(o,null),a(o,p),O._mount(o,null),m=!0},p:function(e,n){var i={};e.target&&(i.target=n.target),b._set(i);var a=r;(r=S(n))===a?x[r].p(e,n):(u.o(function(){x[a].d(1),x[a]=null}),(u=x[r])||(u=x[r]=_[r](t,n)).c(),u.m(o,c));var s={};e.textId&&(s.id=n.textId),e.content&&(s.text=n.content),e.target&&(s.target=n.target),E._set(s);var l={};e.textElement&&(l.from=n.textElement),e.target&&(l.to=n.target),O._set(l),m&&!e.title&&!e.content||d===(d=n.title||n.content)||y(o,"aria-label",d),m&&!e.textId||y(o,"aria-describedby",n.textId)},i:function(t,e){m||this.m(t,e)},o:function(t){m&&(t=i(t,4),b&&b._fragment.o(t),u?u.o(t):t(),E&&E._fragment.o(t),O&&O._fragment.o(t),m=!1)},d:function(e){window.removeEventListener("keydown",g),b.destroy(e),e&&(l(n),l(o)),x[r].d(),E.destroy(),t.refs.text===E&&(t.refs.text=null),O.destroy()}}}(this,this._state),this.root._oncreate.push(function(){ye.call(e),e.fire("update",{changed:o({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(ke.prototype,A),n(ke.prototype,ve);var Oe={colors:{active:"#62A8FC",lightText:"#fff"}};function Me(t,e){var n;return{c:function(){(n=h("div")).className="onboardist-backdrop svelte-a48jt5"},m:function(t,e){s(t,n,e)},d:function(t){t&&l(n)}}}function Ce(t){var e,i,u,c,p,d=this;C(this,t),this._state=n({backdrop:!1},t.data),this._intro=!!t.intro,document.getElementById("svelte-a48jt5-style")||((e=h("style")).id="svelte-a48jt5-style",e.textContent=".onboardist-backdrop.svelte-a48jt5{background-color:rgba(0, 0, 0, 0.5);z-index:998;position:fixed;left:0;right:0;bottom:0;top:0}",a(document.head,e)),this._fragment=(i=this._state,p=i.backdrop&&Me(),{c:function(){u=h("div"),p&&p.c()},m:function(t,e){s(t,u,e),p&&p.m(u,null),c=!0},p:function(t,e){e.backdrop?p||((p=Me()).c(),p.m(u,null)):p&&(p.d(1),p=null)},i:function(t,e){c||this.m(t,e)},o:r,d:function(t){t&&l(u),p&&p.d()}}),this.root._oncreate.push(function(){(function(){document.querySelector(".onboardist-backdrop")?this.destroy():this.set({backdrop:!0})}).call(d),d.fire("update",{changed:o({},d._state),current:d._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}function Le(t,e){var n;return{c:function(){(n=h("div")).className="pulse svelte-9a2dtp",_(n,"width",e.size+"px"),_(n,"height",e.size+"px"),_(n,"margin","-"+e.size/2+"px")},m:function(t,e){s(t,n,e)},p:function(t,e){t.size&&(_(n,"width",e.size+"px"),_(n,"height",e.size+"px"),_(n,"margin","-"+e.size/2+"px"))},d:function(t){t&&l(n)}}}function Ie(t,e){var n;return{c:function(){(n=h("div")).className="hotspot-arrow svelte-9a2dtp"},m:function(t,e){s(t,n,e)},d:function(t){t&&l(n)}}}function Ae(t,e){var n,o=new Ce({root:t.root,store:t.store});return{c:function(){o._fragment.c()},m:function(t,e){o._mount(t,e),n=!0},i:function(t,e){n||this.m(t,e)},o:function(t){n&&(o&&o._fragment.o(t),n=!1)},d:function(t){o.destroy(t)}}}function Ne(t){var e,i,r,u,c,p,d,g,v,y,b,x,S,w,E,k=this;C(this,t),this.refs={},this._state=n({backdrop:!1,color:Oe.colors.active,style:"pulse",size:20},t.data),this._intro=!!t.intro,this._handlers.destroy=[me],document.getElementById("svelte-9a2dtp-style")||((e=h("style")).id="svelte-9a2dtp-style",e.textContent='.onboardist-button.svelte-9a2dtp{border-radius:8px;border:1px solid #0571f3;background-color:white;color:#0571f3;font-size:0.8em;padding:0.5em 1em;margin:0.5em;text-transform:uppercase;outline:none;cursor:pointer}.onboardist-button.svelte-9a2dtp:hover{background-color:#62A8FC;border-color:#62A8FC;color:white;box-shadow:inset 0px 0px 5px rgba(0, 0, 0, 0.2)}.svelte-ref-el.svelte-9a2dtp{z-index:999}.hotspot.svelte-9a2dtp{position:absolute;z-index:999;cursor:pointer}.hotspot.svelte-9a2dtp .dot.svelte-9a2dtp{position:absolute;z-index:999;top:50%;left:50%;border-radius:50%;background-color:#62A8FC}.hotspot.pulse.svelte-9a2dtp .dot.svelte-9a2dtp{border:2px solid #499afc}.hotspot.pulse.svelte-9a2dtp .pulse.svelte-9a2dtp{border-radius:50%;position:absolute;z-index:999;top:50%;left:50%;border:2px solid #62A8FC;animation:svelte-9a2dtp-pulsate 2s ease-out;animation-iteration-count:infinite}@keyframes svelte-9a2dtp-pulsate{0%{transform:scale(1, 1);opacity:0.9}100%{transform:scale(2.5, 2.5);opacity:0}}.hotspot.teardrop.svelte-9a2dtp .dot.svelte-9a2dtp{border-top-left-radius:0}[x-placement^="top"] .hotspot.teardrop.svelte-9a2dtp .dot.svelte-9a2dtp{transform:rotate(225deg)}[x-placement^="right"] .hotspot.teardrop.svelte-9a2dtp .dot.svelte-9a2dtp{transform:rotate(315deg)}[x-placement^="bottom"] .hotspot.teardrop.svelte-9a2dtp .dot.svelte-9a2dtp{transform:rotate(45deg)}[x-placement^="top"] .hotspot.teardrop.svelte-9a2dtp .dot.svelte-9a2dtp{transform:rotate(315deg)}',a(document.head,e)),this._fragment=(i=this,r=this._state,S="pulse"==r.style&&Le(0,r),w="teardrop"==r.style&&Ie(),E=r.backdrop&&Ae(i),{c:function(){u=h("div"),c=h("div"),p=h("div"),d=f("\n\n    "),S&&S.c(),g=f("\n    "),w&&w.c(),y=f("\n"),E&&E.c(),b=m(),p.className="dot svelte-9a2dtp",_(p,"width",r.size+"px"),_(p,"height",r.size+"px"),_(p,"margin","-"+r.size/2+"px"),c.className=v="hotspot "+r.style+" svelte-9a2dtp",u.className="svelte-9a2dtp svelte-ref-el"},m:function(t,e){s(t,u,e),a(u,c),a(c,p),a(c,d),S&&S.m(c,null),a(c,g),w&&w.m(c,null),i.refs.el=u,s(t,y,e),E&&E.m(t,e),s(t,b,e),x=!0},p:function(t,e){x&&!t.size||(_(p,"width",e.size+"px"),_(p,"height",e.size+"px"),_(p,"margin","-"+e.size/2+"px")),"pulse"==e.style?S?S.p(t,e):((S=Le(0,e)).c(),S.m(c,g)):S&&(S.d(1),S=null),"teardrop"==e.style?w||((w=Ie()).c(),w.m(c,null)):w&&(w.d(1),w=null),x&&!t.style||v===(v="hotspot "+e.style+" svelte-9a2dtp")||(c.className=v),e.backdrop?(E||(E=Ae(i)).c(),E.i(b.parentNode,b)):E&&E.o(function(){E.d(1),E=null})},i:function(t,e){x||this.m(t,e)},o:function(t){x&&(E?E.o(t):t(),x=!1)},d:function(t){t&&l(u),S&&S.d(),w&&w.d(),i.refs.el===u&&(i.refs.el=null),t&&l(y),E&&E.d(t),t&&l(b)}}),this.root._oncreate.push(function(){(function(){return fe.call(this)}).call(k),k.fire("update",{changed:o({},k._state),current:k._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}function Te(t,e){var n,o;return{c:function(){n=h("div"),o=f(e.title),n.className="box-header svelte-uyaeo1",_(n,"background-color",e.backgroundColor),_(n,"color",e.headerTextColor)},m:function(t,e){s(t,n,e),a(n,o)},p:function(t,e){t.title&&b(o,e.title),t.backgroundColor&&_(n,"background-color",e.backgroundColor),t.headerTextColor&&_(n,"color",e.headerTextColor)},d:function(t){t&&l(n)}}}function Pe(t){var e,o,i,c,p,d,m,g,v,y,b,_,x;C(this,t),this.refs={},this._state=n({title:"",content:"",backgroundColor:Oe.colors.active,headerTextColor:Oe.colors.lightText},t.data),this._intro=!!t.intro,this._slotted=t.slots||{},document.getElementById("svelte-uyaeo1-style")||((e=h("style")).id="svelte-uyaeo1-style",e.textContent=".box.svelte-uyaeo1{margin:5px;display:inline-block;border-radius:8px;box-shadow:0px 0px 40px rgba(0, 0, 0, 0.05);background:white;text-align:initial}.box.svelte-uyaeo1 .box-header.svelte-uyaeo1{font-size:18px;font-weight:bold;padding:12px 20px;border-radius:8px 8px 0 0;text-align:center}.box.svelte-uyaeo1 .box-content.svelte-uyaeo1{padding:20px;text-align:left}.box.svelte-uyaeo1 .box-buttons.svelte-uyaeo1{color:inherit}.box.svelte-uyaeo1 .box-buttons.svelte-uyaeo1 [slot]{display:flex;justify-content:flex-end}",a(document.head,e)),this._fragment=(o=this,i=this._state,b=o._slotted.content,_=o._slotted.buttons,x=i.title&&Te(0,i),{c:function(){c=h("div"),x&&x.c(),p=f("\n    "),d=h("div"),m=f("\n    "),g=h("div"),_||(v=f("")),d.className="box-content svelte-uyaeo1",g.className="box-buttons svelte-uyaeo1",c.className="box svelte-uyaeo1"},m:function(t,e){s(t,c,e),x&&x.m(c,null),a(c,p),a(c,d),b&&a(d,b),a(c,m),a(c,g),a(g,_||v),o.refs.el=c,y=!0},p:function(t,e){e.title?x?x.p(t,e):((x=Te(0,e)).c(),x.m(c,p)):x&&(x.d(1),x=null)},i:function(t,e){y||this.m(t,e)},o:r,d:function(t){t&&l(c),x&&x.d(),b&&u(d,b),_&&u(g,_),o.refs.el===c&&(o.refs.el=null)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor)),this._intro=!0}n(Ce.prototype,A),n(Ne.prototype,A),n(Pe.prototype,A);var Ve={close:pe,call:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t.call.apply(t,[this].concat(e))},keypress:function(t){"Escape"===t.key&&this.close()}};function Be(t){var e=this._svelte,n=e.component,o=e.ctx;n.call(o.button.handler)}function We(t,e,n){var o=Object.create(t);return o.button=e[n],o}function ze(t,n){var o;return{c:function(){o=f("")},m:function(t,e){s(t,o,e)},p:e,d:function(t){t&&l(o)}}}function Fe(t,e){for(var n,o=e.buttons,i=[],r=0;r<o.length;r+=1)i[r]=je(t,We(e,o,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();n=m()},m:function(t,e){for(var o=0;o<i.length;o+=1)i[o].m(t,e);s(t,n,e)},p:function(e,r){if(e.buttons){o=r.buttons;for(var a=0;a<o.length;a+=1){var s=We(r,o,a);i[a]?i[a].p(e,s):(i[a]=je(t,s),i[a].c(),i[a].m(n.parentNode,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}},d:function(t){c(i,t),t&&l(n)}}}function je(t,e){var n,o,i=e.button.text;return{c:function(){n=h("button"),o=f(i),n._svelte={component:t,ctx:e},g(n,"click",Be),n.type="button",n.tabIndex="0",n.className="onboardist-button svelte-v4jc40"},m:function(t,e){s(t,n,e),a(n,o)},p:function(t,r){e=r,t.buttons&&i!==(i=e.button.text)&&b(o,i),n._svelte.ctx=e},d:function(t){t&&l(n),v(n,"click",Be)}}}function De(t,e){var n;return{c:function(){(n=h("div")).className="svelte-v4jc40",x(n,"backdrop",e.backdrop)},m:function(t,e){s(t,n,e)},p:function(t,e){t.backdrop&&x(n,"backdrop",e.backdrop)},d:function(t){t&&l(n)}}}function Re(t){var e,i=this;C(this,t),this.refs={},this._state=n({id:ce(),title:"",buttons:["ok"],content:"",backdrop:!0},t.data),this._intro=!!t.intro,this._handlers.destroy=[me],document.getElementById("svelte-v4jc40-style")||((e=h("style")).id="svelte-v4jc40-style",e.textContent=".onboardist-button.svelte-v4jc40{border-radius:8px;border:1px solid #0571f3;background-color:white;color:#0571f3;font-size:0.8em;padding:0.5em 1em;margin:0.5em;text-transform:uppercase;outline:none;cursor:pointer}.onboardist-button.svelte-v4jc40:hover{background-color:#62A8FC;border-color:#62A8FC;color:white;box-shadow:inset 0px 0px 5px rgba(0, 0, 0, 0.2)}.oboardist-container.svelte-v4jc40{position:fixed;left:0;right:0;bottom:0;top:0;z-index:999;display:flex;justify-content:center;align-items:center}.backdrop.svelte-v4jc40{position:fixed;left:0;right:0;bottom:0;top:0;z-index:998;background:black;opacity:0.3}.oboardist-container .box{border:none !important;z-index:1000;box-shadow:0 0 50px 10px rgba(0, 0, 0, 0.2) !important}",a(document.head,e)),this._fragment=function(t,e){var n,o,i,r,u,c,d,g,v,b;function _(e){t.keypress(e)}function x(t){return t.buttons?Fe:ze}window.addEventListener("keydown",_);var S=x(e),w=S(t,e),E={title:e.title},k=new Pe({root:t.root,store:t.store,slots:{default:p(),buttons:p(),content:p()},data:E});t.refs.box=k;var O=e.backdrop&&De(0,e);return{c:function(){n=h("div"),o=h("div"),r=f("\n    "),u=h("div"),w.c(),k._fragment.c(),g=f("\n"),O&&O.c(),v=m(),o.id=i="coachmark-modal-content-"+e.id,y(o,"slot","content"),y(u,"slot","buttons"),n.className="oboardist-container modal svelte-v4jc40",y(n,"role","alertdialog"),y(n,"aria-modal","true"),y(n,"aria-label",c=e.title||e.content),y(n,"aria-describedby",d="coachmark-modal-content-"+e.id)},m:function(i,l){s(i,n,l),a(k._slotted.content,o),o.innerHTML=e.content,a(k._slotted.default,r),a(k._slotted.buttons,u),w.m(u,null),k._mount(n,null),t.refs.el=n,s(i,g,l),O&&O.m(i,l),s(i,v,l),b=!0},p:function(e,r){b&&!e.content||(o.innerHTML=r.content),b&&!e.id||i===(i="coachmark-modal-content-"+r.id)||(o.id=i),S===(S=x(r))&&w?w.p(e,r):(w.d(1),(w=S(t,r)).c(),w.m(u,null));var a={};e.title&&(a.title=r.title),k._set(a),b&&!e.title&&!e.content||c===(c=r.title||r.content)||y(n,"aria-label",c),b&&!e.id||d===(d="coachmark-modal-content-"+r.id)||y(n,"aria-describedby",d),r.backdrop?O?O.p(e,r):((O=De(0,r)).c(),O.m(v.parentNode,v)):O&&(O.d(1),O=null)},i:function(t,e){b||this.m(t,e)},o:function(t){b&&(k&&k._fragment.o(t),b=!1)},d:function(e){window.removeEventListener("keydown",_),e&&l(n),w.d(),k.destroy(),t.refs.box===k&&(t.refs.box=null),t.refs.el===n&&(t.refs.el=null),e&&l(g),O&&O.d(e),e&&l(v)}}}(this,this._state),this.root._oncreate.push(function(){(function(){this.get().buttons&&this.set({buttons:ge(this.get().buttons)});var t=this.refs.el.querySelector("button");return t&&t.focus(),fe.call(this)}).call(i),i.fire("update",{changed:o({},i._state),current:i._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(Re.prototype,A),n(Re.prototype,Ve);var Ge={close:pe,call:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t.call.apply(t,[this].concat(e))}};function He(t){var e=this._svelte,n=e.component,o=e.ctx;n.call(o.button.handler)}function Ue(t,e,n){var o=Object.create(t);return o.button=e[n],o}function qe(t,e){for(var n,o=e.buttons,i=[],r=0;r<o.length;r+=1)i[r]=Ye(t,Ue(e,o,r));return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();n=m()},m:function(t,e){for(var o=0;o<i.length;o+=1)i[o].m(t,e);s(t,n,e)},p:function(e,r){if(e.buttons){o=r.buttons;for(var a=0;a<o.length;a+=1){var s=Ue(r,o,a);i[a]?i[a].p(e,s):(i[a]=Ye(t,s),i[a].c(),i[a].m(n.parentNode,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}},d:function(t){c(i,t),t&&l(n)}}}function Ye(t,e){var n,o,i=e.button.text;return{c:function(){n=h("button"),o=f(i),n._svelte={component:t,ctx:e},g(n,"click",He),n.type="button",n.tabIndex="0",n.className="onboardist-button svelte-zx5vrt"},m:function(t,e){s(t,n,e),a(n,o)},p:function(t,r){e=r,t.buttons&&i!==(i=e.button.text)&&b(o,i),n._svelte.ctx=e},d:function(t){t&&l(n),v(n,"click",He)}}}function Ze(t,e){var n,o=new Ce({root:t.root,store:t.store});return{c:function(){o._fragment.c()},m:function(t,e){o._mount(t,e),n=!0},i:function(t,e){n||this.m(t,e)},o:function(t){n&&(o&&o._fragment.o(t),n=!1)},d:function(t){o.destroy(t)}}}function Xe(t){var e,r=this;C(this,t),this.refs={},this._state=n({id:ce(),title:"",content:"",backdrop:!1,buttons:["ok"]},t.data),this._intro=!!t.intro,this._handlers.destroy=[me],document.getElementById("svelte-zx5vrt-style")||((e=h("style")).id="svelte-zx5vrt-style",e.textContent='.onboardist-button.svelte-zx5vrt{border-radius:8px;border:1px solid #0571f3;background-color:white;color:#0571f3;font-size:0.8em;padding:0.5em 1em;margin:0.5em;text-transform:uppercase;outline:none;cursor:pointer}.onboardist-button.svelte-zx5vrt:hover{background-color:#62A8FC;border-color:#62A8FC;color:white;box-shadow:inset 0px 0px 5px rgba(0, 0, 0, 0.2)}.onboardist-container.svelte-zx5vrt{margin:5px;z-index:999}.onboardist-container[x-placement^="right"]{margin-left:10px}.onboardist-container[x-placement^="left"]{margin-right:10px}.onboardist-container[x-placement^="bottom"]{margin-top:10px}.onboardist-container[x-placement^="top"]{margin-bottom:10px}.tooltip.svelte-zx5vrt{border-radius:12px;box-shadow:0px 0px 40px rgba(0, 0, 0, 0.05);background:rgba(0, 0, 0, 0)}.tooltip.svelte-zx5vrt .box{margin:0 !important;color:white;background-color:#62A8FC !important}.tooltip.svelte-zx5vrt .box > .box-content:first-child{padding-top:10px !important}.tooltip.svelte-zx5vrt .box > div:last-child{padding-bottom:5px !important}.tooltip.svelte-zx5vrt .box .box-header{padding:10px !important}.tooltip.svelte-zx5vrt .box .box-content{padding:5px 10px !important}.tooltip.svelte-zx5vrt .box .box-buttons{padding:0}.tooltip.svelte-zx5vrt .box .box-buttons button{background-color:#62A8FC;color:white;border-color:white}.tooltip.svelte-zx5vrt .tooltip-arrow.svelte-zx5vrt{background:#62A8FC;height:10px;width:10px;position:absolute;display:inline-block;transform:rotate(45deg)}[x-placement^="right"] .tooltip.svelte-zx5vrt .tooltip-arrow.svelte-zx5vrt{left:-3px}[x-placement^="left"] .tooltip.svelte-zx5vrt .tooltip-arrow.svelte-zx5vrt{right:-3px}[x-placement^="bottom"] .tooltip.svelte-zx5vrt .tooltip-arrow.svelte-zx5vrt{top:-3px}[x-placement^="top"] .tooltip.svelte-zx5vrt .tooltip-arrow.svelte-zx5vrt{bottom:-3px}',a(document.head,e)),this._fragment=function(t,e){var n,o,r,u,c,d,g,v,b,_,x,S,w,E=e.buttons&&e.buttons.length>0&&qe(t,e),k={title:e.title},O=new Pe({root:t.root,store:t.store,slots:{default:p(),buttons:p(),content:p()},data:k});t.refs.box=O;var M=e.backdrop&&Ze(t);return{c:function(){n=h("div"),o=h("div"),r=h("div"),c=f("\n      "),d=h("div"),E&&E.c(),O._fragment.c(),g=f("\n    "),v=h("div"),x=f("\n"),M&&M.c(),S=m(),y(r,"slot","content"),r.id=u="coachmark-tooltip-content-"+e.id,y(d,"slot","buttons"),v.className="tooltip-arrow svelte-zx5vrt",y(v,"x-arrow",!0),o.className="tooltip svelte-zx5vrt",y(o,"role","dialog"),y(o,"aria-label",b=e.title||e.content),y(o,"aria-describedby",_="coachmark-tooltip-content-"+e.id),n.className="onboardist-container svelte-zx5vrt"},m:function(i,l){s(i,n,l),a(n,o),a(O._slotted.content,r),r.innerHTML=e.content,a(O._slotted.default,c),a(O._slotted.buttons,d),E&&E.m(d,null),O._mount(o,null),a(o,g),a(o,v),t.refs.el=n,s(i,x,l),M&&M.m(i,l),s(i,S,l),w=!0},p:function(e,n){w&&!e.content||(r.innerHTML=n.content),w&&!e.id||u===(u="coachmark-tooltip-content-"+n.id)||(r.id=u),n.buttons&&n.buttons.length>0?E?E.p(e,n):((E=qe(t,n)).c(),E.m(d,null)):E&&(E.d(1),E=null);var i={};e.title&&(i.title=n.title),O._set(i),w&&!e.title&&!e.content||b===(b=n.title||n.content)||y(o,"aria-label",b),w&&!e.id||_===(_="coachmark-tooltip-content-"+n.id)||y(o,"aria-describedby",_),n.backdrop?(M||(M=Ze(t)).c(),M.i(S.parentNode,S)):M&&M.o(function(){M.d(1),M=null})},i:function(t,e){w||this.m(t,e)},o:function(t){w&&(t=i(t,2),O&&O._fragment.o(t),M?M.o(t):t(),w=!1)},d:function(e){e&&l(n),E&&E.d(),O.destroy(),t.refs.box===O&&(t.refs.box=null),t.refs.el===n&&(t.refs.el=null),e&&l(x),M&&M.d(e),e&&l(S)}}}(this,this._state),this.root._oncreate.push(function(){(function(){this.options.modifiers=this.options.modifiers||{},this.get().buttons&&this.set({buttons:ge(this.get().buttons)});var t=this.refs.el.querySelector("button");return t&&t.focus(),fe.call(this)}).call(r),r.fire("update",{changed:o({},r._state),current:r._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),O(this)),this._intro=!0}n(Xe.prototype,A),n(Xe.prototype,Ge);var Ke=["backdrop","buttons","content","events","name","style","title"];function Qe(t,e){var n={};return Ke.forEach(function(t){t in e&&(n[t]=e[t])}),new t(Object.assign({},e,{data:n,target:document.querySelector("body")}))}var $e=function(t){return t.component="coachmark",Qe(ke,t)},Je=function(t){return t.component="hotspot",Qe(Ne,t)},tn=function(t){return t.component="modal",Qe(Re,t)},en=function(t){return t.component="tooltip",Qe(Xe,t)},nn={tours:{},components:{},listeners:[],activeTour:null},on={coachmark:$e,hotspot:Je,modal:tn,tooltip:en};function rn(){for(var t=0,e=Object.values(nn.components);t<e.length;t+=1){var n=e[t];n.instance&&(n.instance.destroy(),delete n.instance)}}var an={_registry:nn,activeTour:function(){return nn.activeTour},clear:function(){rn();for(var t=0,e=Object.keys(nn.components);t<e.length;t+=1){var n=e[t];delete nn.components[n]}for(var o=0,i=Object.keys(nn.tours);o<i.length;o+=1){var r=i[o];delete nn.tours[r]}},component:function(t){return nn.components[t]},deregisterInstance:function(t){t in nn.components&&(nn.components[t].instance&&nn.components[t].instance.destroy(),delete nn.components[t].instance)},destroyInstances:rn,registerComponent:function(t){var e=t.name,n=t.component,o=t.args,i=t.instance;return e||(e=ce()),(o=o||{}).name=e,n in on&&(n=on[n]),nn.components[e]={component:n,args:o,instance:i},nn.components[e]},registerTour:function(t){return t.name=t.name||ce(),nn.tours[t.name]=t,t},registerInstance:function(t){var e=t.name,n=t.instance;if(!e)throw new Error("No component name provided");if(!n)throw new Error("No component instance provided");nn.components[e]=nn.components[e]||{},nn.components[e].instance=n},setActiveTour:function(t){if("string"==typeof t&&(t=nn.tours[t]),!t)throw new Error("No tour specified");nn.activeTour=t},tour:function(t){return nn.tours[t]}};function sn(t,e){this._handlers={},this._dependents=[],this._computed=S(),this._sortedComputedProperties=[],this._state=n({},t),this._differs=e&&e.immutable?E:w}n(sn.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var o=t[n];e["$"+o]=this._state[o]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var o=this,i=this._state;this._state=n(n({},i),t);for(var r=0;r<this._sortedComputedProperties.length;r+=1)this._sortedComputedProperties[r].update(this._state,e);this.fire("state",{changed:e,previous:i,current:this._state}),this._dependents.filter(function(t){for(var n={},i=!1,r=0;r<t.props.length;r+=1){var a=t.props[r];a in e&&(n["$"+a]=o._state[a],i=!0)}if(i)return t.component._stage(n),!0}).forEach(function(t){t.component.set({})}),this.fire("update",{changed:e,previous:i,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],o=S();function i(r){var a=e[r];a&&(a.deps.forEach(function(e){if(e===t)throw new Error("Cyclical dependency detected between "+e+" <-> "+r);i(e)}),o[r]||(o[r]=!0,n.push(a)))}for(var r in this._computed)i(t=r)},compute:function(t,e,o){var i,r=this,a={deps:e,update:function(n,a,s){var l=e.map(function(t){return t in a&&(s=!0),n[t]});if(s){var u=o.apply(null,l);r._differs(u,i)&&(i=u,a[t]=!0,n[t]=i)}}};this._computed[t]=a,this._sortComputedProperties();var s=n({},this._state),l={};a.update(s,l,!0),this._set(s,l)},fire:k,get:M,on:L,set:function(t){var e=this._state,n=this._changed={},o=!1;for(var i in t){if(this._computed[i])throw new Error("'"+i+"' is a read-only computed property");this._differs(t[i],e[i])&&(n[i]=o=!0)}o&&this._set(t,n)}});var ln=function(t){if(void 0===t&&(t={}),this.options=Object.assign({},{name:ce(),showNext:!0,showPrev:!0,scenarios:[]},t),this.name=this.options.name,this.scenarios=this.options.scenarios,this.store=new sn({}),this.elementMap={},!this.scenarios||0===this.scenarios.length)throw new Error("Tour "+this.name+" was not given any scenarios");this.register()};ln.prototype.register=function(){for(var t in an.registerTour(this),this.scenarios)if({}.hasOwnProperty.call(this.scenarios,t)){var e=this.scenarios[t];if(!e.components)throw new Error("Tour '"+this.name+"' scenario #"+(parseInt(t,10)+1)+" has no components property. Should be an array");for(var n=0,o=e.components;n<o.length;n+=1){var i=o[n],r=an.registerComponent({component:i.component,args:i,name:i.name});de(i.events,r)}}},ln.prototype.start=function(){an.setActiveTour(this),this.scenario=null,this.next()},ln.prototype.render=function(t){this.clear(),this.renderChain(t.components[0],t)},ln.prototype.nextComponent=function(t,e){return e.components[e.components.indexOf(t)+1]},ln.prototype.renderChain=function(t,e){var n=this,o=t.component,i=Object.assign({},t);if("string"==typeof o&&(o=on[o]),!o)throw new Error("Component '"+o+"' unrecognized");var r=this.isLastScenario(e)?{text:"End",handler:function(){return n.clear()}}:{text:"Next",handler:function(){return n.next()}};i.buttons=[],this.options.showPrev&&!1!==i.showPrev&&!this.isFirstScenario(e)&&(i.buttons=[{text:"Prev",handler:function(){return n.prev()}}].concat(i.buttons||[])),this.options.showNext&&!1!==i.showNext&&(i.buttons=(i.buttons||[]).concat([r])),i.store=this.store,i.name=i.name||ce(),i.attach in this.elementMap&&(i.attach=this.elementMap[i.attach].refs.el);var a=new o(i);an.registerInstance({name:a.get().name,instance:a}),this.elementMap[a.get().name]=a;var s=this.nextComponent(t,e);s&&setTimeout(function(){return n.renderChain(s,e)})},ln.prototype.waitScenario=function(t){var e=this,n=t.wait;if(n){var o=parseInt(n,10);n=isNaN(o)?se(n,{timeout:1e4}):new Promise(function(t){setTimeout(function(){t()},o)})}Promise.resolve(n).then(function(){e.scenario=t,e.render(t)})},ln.prototype.next=function(){var t=this.nextScenario(this.scenario);if(t){this.scenario=t,this.render(this.scenario);var e=this.nextScenario(t);e&&e.wait&&this.waitScenario(e)}},ln.prototype.prev=function(){var t=this.prevScenario(this.scenario);if(t){this.scenario=t,this.render(this.scenario);var e=this.prevScenario(t);e&&e.wait&&this.waitScenario(e)}},ln.prototype.clear=function(){for(var t=0,e=Object.values(this.elementMap);t<e.length;t+=1){e[t].destroy()}this.elementMap={}},ln.prototype.isFirstScenario=function(t){return 0===this.scenarios.indexOf(t)},ln.prototype.isLastScenario=function(t){return this.scenarios.indexOf(t)===this.scenarios.length-1},ln.prototype.nextScenario=function(t){if(t){var e=this.scenarios.indexOf(t);if(-1===e)return;return this.scenarios[e+1]}return this.clear(),this.scenarios[0]},ln.prototype.prevScenario=function(t){if(t){var e=this.scenarios.indexOf(t);if(-1===e)return;return this.scenarios[e-1]}return this.clear(),this.scenarios[0]},ln.prototype.stop=function(){this.clear()};var un=ue.on,cn=ue.fire,pn=an.registerComponent,hn=an.registerTour;t.Registry=an,t.Tour=ln,t.on=un,t.fire=cn,t.registerComponent=pn,t.registerTour=hn,t.configure=function(t){(t.tours||[]).forEach(function(t){return an.registerTour(t)}),(t.components||[]).forEach(function(t){var e=an.registerComponent(t);de((e.args||{}).events,e)})},t.start=function(t){var e=an.tour(t),n=new ln(e);an.setActiveTour(n),n.start()},t.next=function(){an.activeTour()&&an.activeTour().next()},t.prev=function(){an.activeTour()&&an.activeTour().prev()},t.stop=function(){an.activeTour()&&an.activeTour().stop()},t.reset=function(){ue.reset(),an.clear()},t.version="0.0.13",t.config=Oe,t.Coachmark=$e,t.Hotspot=Je,t.Modal=tn,t.Tooltip=en,t.CoachmarkComponent=ke,t.HotspotComponent=Ne,t.ModalComponent=Re,t.TooltipComponent=Xe,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=onboardist-ui.min.js.map
